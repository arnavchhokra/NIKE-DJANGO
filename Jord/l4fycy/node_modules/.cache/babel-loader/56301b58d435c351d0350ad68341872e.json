{"ast":null,"code":"import _classCallCheck from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, PerspectiveCamera, OrthographicCamera, MOUSE } from 'three';\nvar STATE;\n\n(function (STATE) {\n  STATE[STATE[\"NONE\"] = -1] = \"NONE\";\n  STATE[STATE[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE[STATE[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE[STATE[\"PAN\"] = 2] = \"PAN\";\n  STATE[STATE[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE[STATE[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE[STATE[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n})(STATE || (STATE = {}));\n\nvar CameraControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(CameraControls, _EventDispatcher);\n\n  var _super = _createSuper(CameraControls);\n\n  /** Set to false to disable this control */\n\n  /** \"target\" sets the location of focus, where the object orbits around */\n\n  /** Set to true to enable trackball behavior */\n\n  /** How far you can dolly in ( PerspectiveCamera only ) */\n\n  /** How far you can dolly out ( PerspectiveCamera only ) */\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n\n  /**\r\n   * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\r\n   * Set to false to disable zooming\r\n   */\n\n  /** Set to false to disable rotating */\n\n  /** Set to false to disable panning */\n\n  /** if true, pan in screen-space */\n\n  /** pixels moved per arrow key push */\n\n  /**\r\n   * Set to true to automatically rotate around the target\r\n   * If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n   * auto-rotate is not supported for trackball behavior\r\n   */\n  // 30 seconds per round when fps is 60\n\n  /** Set to false to disable use of the keys */\n\n  /** The four arrow keys */\n\n  /** Touch fingers */\n  // for reset\n  // current position in spherical coordinates\n  function CameraControls(object, domElement) {\n    var _this;\n\n    _classCallCheck(this, CameraControls);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"object\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"domElement\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enabled\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"target\", new Vector3());\n\n    _defineProperty(_assertThisInitialized(_this), \"trackball\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"minDistance\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"maxDistance\", Infinity);\n\n    _defineProperty(_assertThisInitialized(_this), \"minZoom\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"maxZoom\", Infinity);\n\n    _defineProperty(_assertThisInitialized(_this), \"minPolarAngle\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(_assertThisInitialized(_this), \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(_assertThisInitialized(_this), \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(_assertThisInitialized(_this), \"enableDamping\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"dampingFactor\", 0.05);\n\n    _defineProperty(_assertThisInitialized(_this), \"enableZoom\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomSpeed\", 1.0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enableRotate\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"rotateSpeed\", 1.0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enablePan\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"panSpeed\", 1.0);\n\n    _defineProperty(_assertThisInitialized(_this), \"screenSpacePanning\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"keyPanSpeed\", 7.0);\n\n    _defineProperty(_assertThisInitialized(_this), \"autoRotate\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enableKeys\", true);\n\n    _defineProperty(_assertThisInitialized(_this), \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mouseButtons\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"target0\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"position0\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"quaternion0\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"zoom0\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"spherical\", new Spherical());\n\n    _defineProperty(_assertThisInitialized(_this), \"sphericalDelta\", new Spherical());\n\n    _defineProperty(_assertThisInitialized(_this), \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"startEvent\", {\n      type: 'start'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"endEvent\", {\n      type: 'end'\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", STATE.NONE);\n\n    _defineProperty(_assertThisInitialized(_this), \"EPS\", 0.000001);\n\n    _defineProperty(_assertThisInitialized(_this), \"scale\", 1);\n\n    _defineProperty(_assertThisInitialized(_this), \"panOffset\", new Vector3());\n\n    _defineProperty(_assertThisInitialized(_this), \"zoomChanged\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"rotateStart\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"rotateEnd\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"rotateDelta\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"panStart\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"panEnd\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"panDelta\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"dollyStart\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"dollyEnd\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"dollyDelta\", new Vector2());\n\n    _defineProperty(_assertThisInitialized(_this), \"offset\", new Vector3());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastPosition\", new Vector3());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastQuaternion\", new Quaternion());\n\n    _defineProperty(_assertThisInitialized(_this), \"q\", new Quaternion());\n\n    _defineProperty(_assertThisInitialized(_this), \"v\", new Vector3());\n\n    _defineProperty(_assertThisInitialized(_this), \"vec\", new Vector3());\n\n    _defineProperty(_assertThisInitialized(_this), \"quat\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"quatInverse\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getPolarAngle\", function () {\n      return _this.spherical.phi;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAzimuthalAngle\", function () {\n      return _this.spherical.theta;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveState\", function () {\n      _this.target0.copy(_this.target);\n\n      _this.position0.copy(_this.object.position);\n\n      _this.quaternion0.copy(_this.object.quaternion);\n\n      _this.zoom0 = _this.object.zoom;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"reset\", function () {\n      _this.target.copy(_this.target0);\n\n      _this.object.position.copy(_this.position0);\n\n      _this.object.quaternion.copy(_this.quaternion0);\n\n      _this.object.zoom = _this.zoom0;\n\n      _this.object.updateProjectionMatrix();\n\n      _this.dispatchEvent(_this.changeEvent);\n\n      _this.update();\n\n      _this.state = STATE.NONE;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dispose\", function () {\n      _this.domElement.removeEventListener('contextmenu', _this.onContextMenu, false);\n\n      _this.domElement.removeEventListener('mousedown', _this.onMouseDown, false);\n\n      _this.domElement.removeEventListener('wheel', _this.onMouseWheel, false);\n\n      _this.domElement.removeEventListener('touchstart', _this.onTouchStart, false);\n\n      _this.domElement.removeEventListener('touchend', _this.onTouchEnd, false);\n\n      _this.domElement.removeEventListener('touchmove', _this.onTouchMove, false);\n\n      document.removeEventListener('mousemove', _this.onMouseMove, false);\n      document.removeEventListener('mouseup', _this.onMouseUp, false);\n\n      _this.domElement.removeEventListener('keydown', _this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function () {\n      var position = _this.object.position;\n\n      _this.offset.copy(position).sub(_this.target);\n\n      if (_this.trackball) {\n        // rotate around screen-space y-axis\n        if (_this.sphericalDelta.theta) {\n          _this.vec.set(0, 1, 0).applyQuaternion(_this.object.quaternion);\n\n          var factor = _this.enableDamping ? _this.dampingFactor : 1;\n\n          _this.q.setFromAxisAngle(_this.vec, _this.sphericalDelta.theta * factor);\n\n          _this.object.quaternion.premultiply(_this.q);\n\n          _this.offset.applyQuaternion(_this.q);\n        } // rotate around screen-space x-axis\n\n\n        if (_this.sphericalDelta.phi) {\n          _this.vec.set(1, 0, 0).applyQuaternion(_this.object.quaternion);\n\n          var _factor = _this.enableDamping ? _this.dampingFactor : 1;\n\n          _this.q.setFromAxisAngle(_this.vec, _this.sphericalDelta.phi * _factor);\n\n          _this.object.quaternion.premultiply(_this.q);\n\n          _this.offset.applyQuaternion(_this.q);\n        }\n\n        _this.offset.multiplyScalar(_this.scale);\n\n        _this.offset.clampLength(_this.minDistance, _this.maxDistance);\n      } else {\n        // rotate offset to \"y-axis-is-up\" space\n        _this.offset.applyQuaternion(_this.quat);\n\n        if (_this.autoRotate && _this.state === STATE.NONE) {\n          _this.rotateLeft(_this.getAutoRotationAngle());\n        }\n\n        _this.spherical.setFromVector3(_this.offset);\n\n        if (_this.enableDamping) {\n          _this.spherical.theta += _this.sphericalDelta.theta * _this.dampingFactor;\n          _this.spherical.phi += _this.sphericalDelta.phi * _this.dampingFactor;\n        } else {\n          _this.spherical.theta += _this.sphericalDelta.theta;\n          _this.spherical.phi += _this.sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        _this.spherical.theta = Math.max(_this.minAzimuthAngle, Math.min(_this.maxAzimuthAngle, _this.spherical.theta)); // restrict phi to be between desired limits\n\n        _this.spherical.phi = Math.max(_this.minPolarAngle, Math.min(_this.maxPolarAngle, _this.spherical.phi));\n\n        _this.spherical.makeSafe();\n\n        _this.spherical.radius *= _this.scale; // restrict radius to be between desired limits\n\n        _this.spherical.radius = Math.max(_this.minDistance, Math.min(_this.maxDistance, _this.spherical.radius));\n\n        _this.offset.setFromSpherical(_this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n\n        _this.offset.applyQuaternion(_this.quatInverse);\n      } // move target to panned location\n\n\n      if (_this.enableDamping === true) {\n        _this.target.addScaledVector(_this.panOffset, _this.dampingFactor);\n      } else {\n        _this.target.add(_this.panOffset);\n      }\n\n      position.copy(_this.target).add(_this.offset);\n\n      if (_this.trackball === false) {\n        _this.object.lookAt(_this.target);\n      }\n\n      if (_this.enableDamping === true) {\n        _this.sphericalDelta.theta *= 1 - _this.dampingFactor;\n        _this.sphericalDelta.phi *= 1 - _this.dampingFactor;\n\n        _this.panOffset.multiplyScalar(1 - _this.dampingFactor);\n      } else {\n        _this.sphericalDelta.set(0, 0, 0);\n\n        _this.panOffset.set(0, 0, 0);\n      }\n\n      _this.scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (_this.zoomChanged || _this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS || 8 * (1 - _this.lastQuaternion.dot(_this.object.quaternion)) > _this.EPS) {\n        _this.dispatchEvent(_this.changeEvent);\n\n        _this.lastPosition.copy(_this.object.position);\n\n        _this.lastQuaternion.copy(_this.object.quaternion);\n\n        _this.zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAutoRotationAngle\", function () {\n      return 2 * Math.PI / 60 / 60 * _this.autoRotateSpeed;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getZoomScale\", function () {\n      return Math.pow(0.95, _this.zoomSpeed);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"rotateLeft\", function (angle) {\n      _this.sphericalDelta.theta -= angle;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"rotateUp\", function (angle) {\n      _this.sphericalDelta.phi -= angle;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"panLeft\", function (distance, objectMatrix) {\n      _this.v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n\n      _this.v.multiplyScalar(-distance);\n\n      _this.panOffset.add(_this.v);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"panUp\", function (distance, objectMatrix) {\n      if (_this.screenSpacePanning === true) {\n        _this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        _this.v.setFromMatrixColumn(objectMatrix, 0);\n\n        _this.v.crossVectors(_this.object.up, _this.v);\n      }\n\n      _this.v.multiplyScalar(distance);\n\n      _this.panOffset.add(_this.v);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pan\", function (deltaX, deltaY) {\n      var element = _this.domElement;\n\n      if (_this.object instanceof PerspectiveCamera) {\n        // perspective\n        var position = _this.object.position;\n\n        _this.offset.copy(position).sub(_this.target);\n\n        var targetDistance = _this.offset.length(); // half of the fov is center to top of screen\n\n\n        targetDistance *= Math.tan(_this.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n        _this.panLeft(2 * deltaX * targetDistance / element.clientHeight, _this.object.matrix);\n\n        _this.panUp(2 * deltaY * targetDistance / element.clientHeight, _this.object.matrix);\n      } else if (_this.object.isOrthographicCamera) {\n        // orthographic\n        _this.panLeft(deltaX * (_this.object.right - _this.object.left) / _this.object.zoom / element.clientWidth, _this.object.matrix);\n\n        _this.panUp(deltaY * (_this.object.top - _this.object.bottom) / _this.object.zoom / element.clientHeight, _this.object.matrix);\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - pan disabled.');\n        _this.enablePan = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dollyIn\", function (dollyScale) {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (_this.object instanceof PerspectiveCamera) {\n        _this.scale /= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (_this.object instanceof OrthographicCamera) {\n        _this.object.zoom = Math.max(_this.minZoom, Math.min(_this.maxZoom, _this.object.zoom * dollyScale));\n\n        _this.object.updateProjectionMatrix();\n\n        _this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        _this.enableZoom = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dollyOut\", function (dollyScale) {\n      // TODO: replace w/.isPerspectiveCamera ?\n      if (_this.object instanceof PerspectiveCamera) {\n        _this.scale *= dollyScale; // TODO: replace w/.isOrthographicCamera ?\n      } else if (_this.object instanceof OrthographicCamera) {\n        _this.object.zoom = Math.max(_this.minZoom, Math.min(_this.maxZoom, _this.object.zoom / dollyScale));\n\n        _this.object.updateProjectionMatrix();\n\n        _this.zoomChanged = true;\n      } else {\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        _this.enableZoom = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownRotate\", function (event) {\n      _this.rotateStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownDolly\", function (event) {\n      _this.dollyStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownPan\", function (event) {\n      _this.panStart.set(event.clientX, event.clientY);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMoveRotate\", function (event) {\n      _this.rotateEnd.set(event.clientX, event.clientY);\n\n      _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart).multiplyScalar(_this.rotateSpeed);\n\n      var element = _this.domElement;\n\n      _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientHeight); // yes, height\n\n\n      _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight);\n\n      _this.rotateStart.copy(_this.rotateEnd);\n\n      _this.update();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMoveDolly\", function (event) {\n      _this.dollyEnd.set(event.clientX, event.clientY);\n\n      _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n\n      if (_this.dollyDelta.y > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      } else if (_this.dollyDelta.y < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      }\n\n      _this.dollyStart.copy(_this.dollyEnd);\n\n      _this.update();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMovePan\", function (event) {\n      _this.panEnd.set(event.clientX, event.clientY);\n\n      _this.panDelta.subVectors(_this.panEnd, _this.panStart).multiplyScalar(_this.panSpeed);\n\n      _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n      _this.panStart.copy(_this.panEnd);\n\n      _this.update();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseWheel\", function (event) {\n      if (event.deltaY < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      }\n\n      _this.update();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      var needsUpdate = false;\n\n      switch (event.code) {\n        case _this.keys.UP:\n          _this.pan(0, _this.keyPanSpeed);\n\n          needsUpdate = true;\n          break;\n\n        case _this.keys.BOTTOM:\n          _this.pan(0, -_this.keyPanSpeed);\n\n          needsUpdate = true;\n          break;\n\n        case _this.keys.LEFT:\n          _this.pan(_this.keyPanSpeed, 0);\n\n          needsUpdate = true;\n          break;\n\n        case _this.keys.RIGHT:\n          _this.pan(-_this.keyPanSpeed, 0);\n\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n\n        _this.update();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartRotate\", function (event) {\n      if (event.touches.length == 1) {\n        _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.rotateStart.set(x, y);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartPan\", function (event) {\n      if (event.touches.length == 1) {\n        _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.panStart.set(x, y);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartDolly\", function (event) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      _this.dollyStart.set(0, distance);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartDollyPan\", function (event) {\n      if (_this.enableZoom) _this.handleTouchStartDolly(event);\n      if (_this.enablePan) _this.handleTouchStartPan(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchStartDollyRotate\", function (event) {\n      if (_this.enableZoom) _this.handleTouchStartDolly(event);\n      if (_this.enableRotate) _this.handleTouchStartRotate(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveRotate\", function (event) {\n      if (event.touches.length == 1) {\n        _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.rotateEnd.set(x, y);\n      }\n\n      _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart).multiplyScalar(_this.rotateSpeed);\n\n      var element = _this.domElement;\n\n      _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientHeight); // yes, height\n\n\n      _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight);\n\n      _this.rotateStart.copy(_this.rotateEnd);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMovePan\", function (event) {\n      if (event.touches.length == 1) {\n        _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.panEnd.set(x, y);\n      }\n\n      _this.panDelta.subVectors(_this.panEnd, _this.panStart).multiplyScalar(_this.panSpeed);\n\n      _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n      _this.panStart.copy(_this.panEnd);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveDolly\", function (event) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      _this.dollyEnd.set(0, distance);\n\n      _this.dollyDelta.set(0, Math.pow(_this.dollyEnd.y / _this.dollyStart.y, _this.zoomSpeed));\n\n      _this.dollyIn(_this.dollyDelta.y);\n\n      _this.dollyStart.copy(_this.dollyEnd);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveDollyPan\", function (event) {\n      if (_this.enableZoom) _this.handleTouchMoveDolly(event);\n      if (_this.enablePan) _this.handleTouchMovePan(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTouchMoveDollyRotate\", function (event) {\n      if (_this.enableZoom) _this.handleTouchMoveDolly(event);\n      if (_this.enableRotate) _this.handleTouchMoveRotate(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (event) {\n      if (_this.enabled === false) return; // Prevent the browser from scrolling.\n\n      event.preventDefault(); // Manually set the focus since calling preventDefault above\n      // prevents the browser from setting it automatically.\n\n      _this.domElement.focus ? _this.domElement.focus() : window.focus();\n      var mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = _this.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = _this.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = _this.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (_this.enableZoom === false) return;\n\n          _this.handleMouseDownDolly(event);\n\n          _this.state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (_this.enablePan === false) return;\n\n            _this.handleMouseDownPan(event);\n\n            _this.state = STATE.PAN;\n          } else {\n            if (_this.enableRotate === false) return;\n\n            _this.handleMouseDownRotate(event);\n\n            _this.state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (_this.enableRotate === false) return;\n\n            _this.handleMouseDownRotate(event);\n\n            _this.state = STATE.ROTATE;\n          } else {\n            if (_this.enablePan === false) return;\n\n            _this.handleMouseDownPan(event);\n\n            _this.state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          _this.state = STATE.NONE;\n      }\n\n      if (_this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', _this.onMouseMove, false);\n        document.addEventListener('mouseup', _this.onMouseUp, false);\n\n        _this.dispatchEvent(_this.startEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (_this.state) {\n        case STATE.ROTATE:\n          if (_this.enableRotate === false) return;\n\n          _this.handleMouseMoveRotate(event);\n\n          break;\n\n        case STATE.DOLLY:\n          if (_this.enableZoom === false) return;\n\n          _this.handleMouseMoveDolly(event);\n\n          break;\n\n        case STATE.PAN:\n          if (_this.enablePan === false) return;\n\n          _this.handleMouseMovePan(event);\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function () {\n      if (_this.enabled === false) return; // this.handleMouseUp()\n\n      document.removeEventListener('mousemove', _this.onMouseMove, false);\n      document.removeEventListener('mouseup', _this.onMouseUp, false);\n\n      _this.dispatchEvent(_this.endEvent);\n\n      _this.state = STATE.NONE;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseWheel\", function (event) {\n      if (_this.enabled === false || _this.enableZoom === false || _this.state !== STATE.NONE && _this.state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.dispatchEvent(_this.startEvent);\n\n      _this.handleMouseWheel(event);\n\n      _this.dispatchEvent(_this.endEvent);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false) return;\n\n      _this.handleKeyDown(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          switch (_this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (_this.enableRotate === false) return;\n\n              _this.handleTouchStartRotate(event);\n\n              _this.state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (_this.enablePan === false) return;\n\n              _this.handleTouchStartPan(event);\n\n              _this.state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              _this.state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (_this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (_this.enableZoom === false && _this.enablePan === false) return;\n\n              _this.handleTouchStartDollyPan(event);\n\n              _this.state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (_this.enableZoom === false && _this.enableRotate === false) return;\n\n              _this.handleTouchStartDollyRotate(event);\n\n              _this.state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              _this.state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          _this.state = STATE.NONE;\n      }\n\n      if (_this.state !== STATE.NONE) {\n        _this.dispatchEvent(_this.startEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (_this.state) {\n        case STATE.TOUCH_ROTATE:\n          if (_this.enableRotate === false) return;\n\n          _this.handleTouchMoveRotate(event);\n\n          _this.update();\n\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (_this.enablePan === false) return;\n\n          _this.handleTouchMovePan(event);\n\n          _this.update();\n\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (_this.enableZoom === false && _this.enablePan === false) return;\n\n          _this.handleTouchMoveDollyPan(event);\n\n          _this.update();\n\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (_this.enableZoom === false && _this.enableRotate === false) return;\n\n          _this.handleTouchMoveDollyRotate(event);\n\n          _this.update();\n\n          break;\n\n        default:\n          _this.state = STATE.NONE;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function () {\n      if (_this.enabled === false) return; // this.handleTouchEnd()\n\n      _this.dispatchEvent(_this.endEvent);\n\n      _this.state = STATE.NONE;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContextMenu\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n    });\n\n    if (domElement === undefined) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n\n    _this.object = object;\n    _this.domElement = domElement;\n    _this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    }; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.quaternion0 = _this.object.quaternion.clone();\n    _this.zoom0 = _this.object.zoom; //\n    // internals\n    //\n    // so camera.up is the orbit axis\n\n    _this.quat = new Quaternion().setFromUnitVectors(_this.object.up, new Vector3(0, 1, 0));\n    _this.quatInverse = _this.quat.clone().invert();\n    _this.lastPosition = new Vector3();\n    _this.lastQuaternion = new Quaternion();\n\n    _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\n\n    _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\n\n    _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\n\n    _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\n\n    _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\n\n    _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\n\n    _this.domElement.addEventListener('keydown', _this.onKeyDown, false); // make sure element can receive keys.\n\n\n    if (_this.domElement.tabIndex === -1) {\n      _this.domElement.tabIndex = 0;\n    } // force an update at start\n\n\n    _this.object.lookAt(_this.target);\n\n    _this.update();\n\n    _this.saveState();\n\n    return _this;\n  }\n\n  _createClass(CameraControls, [{\n    key: \"handleMouseUp\",\n    value: function handleMouseUp() {// no-op\n    }\n  }, {\n    key: \"handleTouchEnd\",\n    value: function handleTouchEnd() {// no-op\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n  }]);\n\n  return CameraControls;\n}(EventDispatcher);\n/**\r\n * OrbitControls maintains the \"up\" direction, camera.up (+Y by default).\r\n *\r\n * @event Orbit - left mouse / touch: one-finger move\r\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n */\n\n\nvar OrbitControlsExp = /*#__PURE__*/function (_CameraControls) {\n  _inherits(OrbitControlsExp, _CameraControls);\n\n  var _super2 = _createSuper(OrbitControlsExp);\n\n  function OrbitControlsExp(object, domElement) {\n    var _this2;\n\n    _classCallCheck(this, OrbitControlsExp);\n\n    _this2 = _super2.call(this, object, domElement);\n\n    _defineProperty(_assertThisInitialized(_this2), \"mouseButtons\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this2), \"touches\", void 0);\n\n    _this2.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    _this2.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n    return _this2;\n  }\n\n  return _createClass(OrbitControlsExp);\n}(CameraControls);\n/**\r\n * MapControls maintains the \"up\" direction, camera.up (+Y by default)\r\n *\r\n * @event Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n * @event Pan - left mouse, or left right + ctrl/meta/shiftKey, or arrow keys / touch: one-finger move\r\n */\n\n\nvar MapControlsExp = /*#__PURE__*/function (_CameraControls2) {\n  _inherits(MapControlsExp, _CameraControls2);\n\n  var _super3 = _createSuper(MapControlsExp);\n\n  function MapControlsExp(object, domElement) {\n    var _this3;\n\n    _classCallCheck(this, MapControlsExp);\n\n    _this3 = _super3.call(this, object, domElement);\n\n    _defineProperty(_assertThisInitialized(_this3), \"mouseButtons\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this3), \"touches\", void 0);\n\n    _this3.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    _this3.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n    return _this3;\n  }\n\n  return _createClass(MapControlsExp);\n}(CameraControls);\n/**\r\n * TrackballControls allows the camera to rotate over the polls and does not maintain camera.up\r\n *\r\n * @event Orbit - left mouse / touch: one-finger move\r\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n */\n\n\nvar TrackballControlsExp = /*#__PURE__*/function (_CameraControls3) {\n  _inherits(TrackballControlsExp, _CameraControls3);\n\n  var _super4 = _createSuper(TrackballControlsExp);\n\n  function TrackballControlsExp(object, domElement) {\n    var _this4;\n\n    _classCallCheck(this, TrackballControlsExp);\n\n    _this4 = _super4.call(this, object, domElement);\n\n    _defineProperty(_assertThisInitialized(_this4), \"trackball\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"screenSpacePanning\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"autoRotate\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"mouseButtons\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this4), \"touches\", void 0);\n\n    _this4.trackball = true;\n    _this4.screenSpacePanning = true;\n    _this4.autoRotate = false;\n    _this4.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    _this4.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n    return _this4;\n  }\n\n  return _createClass(TrackballControlsExp);\n}(CameraControls);\n\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };","map":{"version":3,"names":["_defineProperty","EventDispatcher","Vector3","TOUCH","Spherical","Vector2","Quaternion","PerspectiveCamera","OrthographicCamera","MOUSE","STATE","CameraControls","object","domElement","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ONE","ROTATE","TWO","DOLLY_PAN","type","NONE","spherical","phi","theta","target0","copy","target","position0","position","quaternion0","quaternion","zoom0","zoom","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","document","onMouseMove","onMouseUp","onKeyDown","offset","sub","trackball","sphericalDelta","vec","set","applyQuaternion","factor","enableDamping","dampingFactor","q","setFromAxisAngle","premultiply","multiplyScalar","scale","clampLength","minDistance","maxDistance","quat","autoRotate","rotateLeft","getAutoRotationAngle","setFromVector3","max","minAzimuthAngle","min","maxAzimuthAngle","minPolarAngle","maxPolarAngle","makeSafe","radius","setFromSpherical","quatInverse","addScaledVector","panOffset","add","lookAt","zoomChanged","lastPosition","distanceToSquared","EPS","lastQuaternion","dot","autoRotateSpeed","pow","zoomSpeed","angle","distance","objectMatrix","v","setFromMatrixColumn","screenSpacePanning","crossVectors","up","deltaX","deltaY","element","targetDistance","length","tan","fov","panLeft","clientHeight","matrix","panUp","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","enablePan","dollyScale","minZoom","maxZoom","enableZoom","event","rotateStart","clientX","clientY","dollyStart","panStart","rotateEnd","rotateDelta","subVectors","rotateSpeed","x","rotateUp","y","dollyEnd","dollyDelta","dollyIn","getZoomScale","dollyOut","panEnd","panDelta","panSpeed","pan","needsUpdate","code","keys","keyPanSpeed","preventDefault","touches","pageX","pageY","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","enableRotate","handleTouchStartRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchMoveRotate","enabled","focus","window","mouseAction","button","mouseButtons","MIDDLE","DOLLY","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","handleMouseDownPan","PAN","handleMouseDownRotate","addEventListener","startEvent","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","endEvent","handleMouseWheel","enableKeys","handleKeyDown","TOUCH_ROTATE","TOUCH_PAN","handleTouchStartDollyPan","TOUCH_DOLLY_PAN","DOLLY_ROTATE","handleTouchStartDollyRotate","TOUCH_DOLLY_ROTATE","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","undefined","Document","error","clone","setFromUnitVectors","invert","tabIndex","saveState","OrbitControlsExp","MapControlsExp","TrackballControlsExp"],"sources":["D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/three-stdlib/controls/experimental/CameraControls.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\r\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, PerspectiveCamera, OrthographicCamera, MOUSE } from 'three';\r\n\r\nlet STATE;\r\n\r\n(function (STATE) {\r\n  STATE[STATE[\"NONE\"] = -1] = \"NONE\";\r\n  STATE[STATE[\"ROTATE\"] = 0] = \"ROTATE\";\r\n  STATE[STATE[\"DOLLY\"] = 1] = \"DOLLY\";\r\n  STATE[STATE[\"PAN\"] = 2] = \"PAN\";\r\n  STATE[STATE[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\r\n  STATE[STATE[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\r\n  STATE[STATE[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\r\n  STATE[STATE[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\r\n})(STATE || (STATE = {}));\r\n\r\nclass CameraControls extends EventDispatcher {\r\n  /** Set to false to disable this control */\r\n\r\n  /** \"target\" sets the location of focus, where the object orbits around */\r\n\r\n  /** Set to true to enable trackball behavior */\r\n\r\n  /** How far you can dolly in ( PerspectiveCamera only ) */\r\n\r\n  /** How far you can dolly out ( PerspectiveCamera only ) */\r\n  // How far you can zoom in and out ( OrthographicCamera only )\r\n  // How far you can orbit vertically, upper and lower limits.\r\n  // Range is 0 to Math.PI radians.\r\n  // How far you can orbit horizontally, upper and lower limits.\r\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n  // radians\r\n  // radians\r\n  // Set to true to enable damping (inertia)\r\n  // If damping is enabled, you must call controls.update() in your animation loop\r\n\r\n  /**\r\n   * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\r\n   * Set to false to disable zooming\r\n   */\r\n\r\n  /** Set to false to disable rotating */\r\n\r\n  /** Set to false to disable panning */\r\n\r\n  /** if true, pan in screen-space */\r\n\r\n  /** pixels moved per arrow key push */\r\n\r\n  /**\r\n   * Set to true to automatically rotate around the target\r\n   * If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n   * auto-rotate is not supported for trackball behavior\r\n   */\r\n  // 30 seconds per round when fps is 60\r\n\r\n  /** Set to false to disable use of the keys */\r\n\r\n  /** The four arrow keys */\r\n\r\n  /** Touch fingers */\r\n  // for reset\r\n  // current position in spherical coordinates\r\n  constructor(object, domElement) {\r\n    super();\r\n\r\n    _defineProperty(this, \"object\", void 0);\r\n\r\n    _defineProperty(this, \"domElement\", void 0);\r\n\r\n    _defineProperty(this, \"enabled\", true);\r\n\r\n    _defineProperty(this, \"target\", new Vector3());\r\n\r\n    _defineProperty(this, \"trackball\", false);\r\n\r\n    _defineProperty(this, \"minDistance\", 0);\r\n\r\n    _defineProperty(this, \"maxDistance\", Infinity);\r\n\r\n    _defineProperty(this, \"minZoom\", 0);\r\n\r\n    _defineProperty(this, \"maxZoom\", Infinity);\r\n\r\n    _defineProperty(this, \"minPolarAngle\", 0);\r\n\r\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\r\n\r\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\r\n\r\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\r\n\r\n    _defineProperty(this, \"enableDamping\", false);\r\n\r\n    _defineProperty(this, \"dampingFactor\", 0.05);\r\n\r\n    _defineProperty(this, \"enableZoom\", true);\r\n\r\n    _defineProperty(this, \"zoomSpeed\", 1.0);\r\n\r\n    _defineProperty(this, \"enableRotate\", true);\r\n\r\n    _defineProperty(this, \"rotateSpeed\", 1.0);\r\n\r\n    _defineProperty(this, \"enablePan\", true);\r\n\r\n    _defineProperty(this, \"panSpeed\", 1.0);\r\n\r\n    _defineProperty(this, \"screenSpacePanning\", false);\r\n\r\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\r\n\r\n    _defineProperty(this, \"autoRotate\", false);\r\n\r\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\r\n\r\n    _defineProperty(this, \"enableKeys\", true);\r\n\r\n    _defineProperty(this, \"keys\", {\r\n      LEFT: 'ArrowLeft',\r\n      UP: 'ArrowUp',\r\n      RIGHT: 'ArrowRight',\r\n      BOTTOM: 'ArrowDown'\r\n    });\r\n\r\n    _defineProperty(this, \"mouseButtons\", void 0);\r\n\r\n    _defineProperty(this, \"touches\", {\r\n      ONE: TOUCH.ROTATE,\r\n      TWO: TOUCH.DOLLY_PAN\r\n    });\r\n\r\n    _defineProperty(this, \"target0\", void 0);\r\n\r\n    _defineProperty(this, \"position0\", void 0);\r\n\r\n    _defineProperty(this, \"quaternion0\", void 0);\r\n\r\n    _defineProperty(this, \"zoom0\", void 0);\r\n\r\n    _defineProperty(this, \"spherical\", new Spherical());\r\n\r\n    _defineProperty(this, \"sphericalDelta\", new Spherical());\r\n\r\n    _defineProperty(this, \"changeEvent\", {\r\n      type: 'change'\r\n    });\r\n\r\n    _defineProperty(this, \"startEvent\", {\r\n      type: 'start'\r\n    });\r\n\r\n    _defineProperty(this, \"endEvent\", {\r\n      type: 'end'\r\n    });\r\n\r\n    _defineProperty(this, \"state\", STATE.NONE);\r\n\r\n    _defineProperty(this, \"EPS\", 0.000001);\r\n\r\n    _defineProperty(this, \"scale\", 1);\r\n\r\n    _defineProperty(this, \"panOffset\", new Vector3());\r\n\r\n    _defineProperty(this, \"zoomChanged\", false);\r\n\r\n    _defineProperty(this, \"rotateStart\", new Vector2());\r\n\r\n    _defineProperty(this, \"rotateEnd\", new Vector2());\r\n\r\n    _defineProperty(this, \"rotateDelta\", new Vector2());\r\n\r\n    _defineProperty(this, \"panStart\", new Vector2());\r\n\r\n    _defineProperty(this, \"panEnd\", new Vector2());\r\n\r\n    _defineProperty(this, \"panDelta\", new Vector2());\r\n\r\n    _defineProperty(this, \"dollyStart\", new Vector2());\r\n\r\n    _defineProperty(this, \"dollyEnd\", new Vector2());\r\n\r\n    _defineProperty(this, \"dollyDelta\", new Vector2());\r\n\r\n    _defineProperty(this, \"offset\", new Vector3());\r\n\r\n    _defineProperty(this, \"lastPosition\", new Vector3());\r\n\r\n    _defineProperty(this, \"lastQuaternion\", new Quaternion());\r\n\r\n    _defineProperty(this, \"q\", new Quaternion());\r\n\r\n    _defineProperty(this, \"v\", new Vector3());\r\n\r\n    _defineProperty(this, \"vec\", new Vector3());\r\n\r\n    _defineProperty(this, \"quat\", void 0);\r\n\r\n    _defineProperty(this, \"quatInverse\", void 0);\r\n\r\n    _defineProperty(this, \"getPolarAngle\", () => this.spherical.phi);\r\n\r\n    _defineProperty(this, \"getAzimuthalAngle\", () => this.spherical.theta);\r\n\r\n    _defineProperty(this, \"saveState\", () => {\r\n      this.target0.copy(this.target);\r\n      this.position0.copy(this.object.position);\r\n      this.quaternion0.copy(this.object.quaternion);\r\n      this.zoom0 = this.object.zoom;\r\n    });\r\n\r\n    _defineProperty(this, \"reset\", () => {\r\n      this.target.copy(this.target0);\r\n      this.object.position.copy(this.position0);\r\n      this.object.quaternion.copy(this.quaternion0);\r\n      this.object.zoom = this.zoom0;\r\n      this.object.updateProjectionMatrix();\r\n      this.dispatchEvent(this.changeEvent);\r\n      this.update();\r\n      this.state = STATE.NONE;\r\n    });\r\n\r\n    _defineProperty(this, \"dispose\", () => {\r\n      this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\r\n      this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\r\n      this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\r\n      this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\r\n      this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\r\n      this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\r\n      document.removeEventListener('mousemove', this.onMouseMove, false);\r\n      document.removeEventListener('mouseup', this.onMouseUp, false);\r\n      this.domElement.removeEventListener('keydown', this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n    });\r\n\r\n    _defineProperty(this, \"update\", () => {\r\n      const position = this.object.position;\r\n      this.offset.copy(position).sub(this.target);\r\n\r\n      if (this.trackball) {\r\n        // rotate around screen-space y-axis\r\n        if (this.sphericalDelta.theta) {\r\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\r\n          const factor = this.enableDamping ? this.dampingFactor : 1;\r\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\r\n          this.object.quaternion.premultiply(this.q);\r\n          this.offset.applyQuaternion(this.q);\r\n        } // rotate around screen-space x-axis\r\n\r\n\r\n        if (this.sphericalDelta.phi) {\r\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\r\n          const factor = this.enableDamping ? this.dampingFactor : 1;\r\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\r\n          this.object.quaternion.premultiply(this.q);\r\n          this.offset.applyQuaternion(this.q);\r\n        }\r\n\r\n        this.offset.multiplyScalar(this.scale);\r\n        this.offset.clampLength(this.minDistance, this.maxDistance);\r\n      } else {\r\n        // rotate offset to \"y-axis-is-up\" space\r\n        this.offset.applyQuaternion(this.quat);\r\n\r\n        if (this.autoRotate && this.state === STATE.NONE) {\r\n          this.rotateLeft(this.getAutoRotationAngle());\r\n        }\r\n\r\n        this.spherical.setFromVector3(this.offset);\r\n\r\n        if (this.enableDamping) {\r\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\r\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\r\n        } else {\r\n          this.spherical.theta += this.sphericalDelta.theta;\r\n          this.spherical.phi += this.sphericalDelta.phi;\r\n        } // restrict theta to be between desired limits\r\n\r\n\r\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta)); // restrict phi to be between desired limits\r\n\r\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\r\n        this.spherical.makeSafe();\r\n        this.spherical.radius *= this.scale; // restrict radius to be between desired limits\r\n\r\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\r\n        this.offset.setFromSpherical(this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\r\n\r\n        this.offset.applyQuaternion(this.quatInverse);\r\n      } // move target to panned location\r\n\r\n\r\n      if (this.enableDamping === true) {\r\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\r\n      } else {\r\n        this.target.add(this.panOffset);\r\n      }\r\n\r\n      position.copy(this.target).add(this.offset);\r\n\r\n      if (this.trackball === false) {\r\n        this.object.lookAt(this.target);\r\n      }\r\n\r\n      if (this.enableDamping === true) {\r\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\r\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\r\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\r\n      } else {\r\n        this.sphericalDelta.set(0, 0, 0);\r\n        this.panOffset.set(0, 0, 0);\r\n      }\r\n\r\n      this.scale = 1; // update condition is:\r\n      // min(camera displacement, camera rotation in radians)^2 > EPS\r\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\r\n        this.dispatchEvent(this.changeEvent);\r\n        this.lastPosition.copy(this.object.position);\r\n        this.lastQuaternion.copy(this.object.quaternion);\r\n        this.zoomChanged = false;\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    _defineProperty(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\r\n\r\n    _defineProperty(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\r\n\r\n    _defineProperty(this, \"rotateLeft\", angle => {\r\n      this.sphericalDelta.theta -= angle;\r\n    });\r\n\r\n    _defineProperty(this, \"rotateUp\", angle => {\r\n      this.sphericalDelta.phi -= angle;\r\n    });\r\n\r\n    _defineProperty(this, \"panLeft\", (distance, objectMatrix) => {\r\n      this.v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\r\n\r\n      this.v.multiplyScalar(-distance);\r\n      this.panOffset.add(this.v);\r\n    });\r\n\r\n    _defineProperty(this, \"panUp\", (distance, objectMatrix) => {\r\n      if (this.screenSpacePanning === true) {\r\n        this.v.setFromMatrixColumn(objectMatrix, 1);\r\n      } else {\r\n        this.v.setFromMatrixColumn(objectMatrix, 0);\r\n        this.v.crossVectors(this.object.up, this.v);\r\n      }\r\n\r\n      this.v.multiplyScalar(distance);\r\n      this.panOffset.add(this.v);\r\n    });\r\n\r\n    _defineProperty(this, \"pan\", (deltaX, deltaY) => {\r\n      const element = this.domElement;\r\n\r\n      if (this.object instanceof PerspectiveCamera) {\r\n        // perspective\r\n        const position = this.object.position;\r\n        this.offset.copy(position).sub(this.target);\r\n        let targetDistance = this.offset.length(); // half of the fov is center to top of screen\r\n\r\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\r\n\r\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\r\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\r\n      } else if (this.object.isOrthographicCamera) {\r\n        // orthographic\r\n        this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\r\n        this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\r\n      } else {\r\n        // camera neither orthographic nor perspective\r\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - pan disabled.');\r\n        this.enablePan = false;\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"dollyIn\", dollyScale => {\r\n      // TODO: replace w/.isPerspectiveCamera ?\r\n      if (this.object instanceof PerspectiveCamera) {\r\n        this.scale /= dollyScale; // TODO: replace w/.isOrthographicCamera ?\r\n      } else if (this.object instanceof OrthographicCamera) {\r\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\r\n        this.object.updateProjectionMatrix();\r\n        this.zoomChanged = true;\r\n      } else {\r\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\r\n        this.enableZoom = false;\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"dollyOut\", dollyScale => {\r\n      // TODO: replace w/.isPerspectiveCamera ?\r\n      if (this.object instanceof PerspectiveCamera) {\r\n        this.scale *= dollyScale; // TODO: replace w/.isOrthographicCamera ?\r\n      } else if (this.object instanceof OrthographicCamera) {\r\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\r\n        this.object.updateProjectionMatrix();\r\n        this.zoomChanged = true;\r\n      } else {\r\n        console.warn('WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.');\r\n        this.enableZoom = false;\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseDownRotate\", event => {\r\n      this.rotateStart.set(event.clientX, event.clientY);\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseDownDolly\", event => {\r\n      this.dollyStart.set(event.clientX, event.clientY);\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseDownPan\", event => {\r\n      this.panStart.set(event.clientX, event.clientY);\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseMoveRotate\", event => {\r\n      this.rotateEnd.set(event.clientX, event.clientY);\r\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\r\n      const element = this.domElement;\r\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\r\n\r\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\r\n      this.rotateStart.copy(this.rotateEnd);\r\n      this.update();\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseMoveDolly\", event => {\r\n      this.dollyEnd.set(event.clientX, event.clientY);\r\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\r\n\r\n      if (this.dollyDelta.y > 0) {\r\n        this.dollyIn(this.getZoomScale());\r\n      } else if (this.dollyDelta.y < 0) {\r\n        this.dollyOut(this.getZoomScale());\r\n      }\r\n\r\n      this.dollyStart.copy(this.dollyEnd);\r\n      this.update();\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseMovePan\", event => {\r\n      this.panEnd.set(event.clientX, event.clientY);\r\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\r\n      this.pan(this.panDelta.x, this.panDelta.y);\r\n      this.panStart.copy(this.panEnd);\r\n      this.update();\r\n    });\r\n\r\n    _defineProperty(this, \"handleMouseWheel\", event => {\r\n      if (event.deltaY < 0) {\r\n        this.dollyOut(this.getZoomScale());\r\n      } else if (event.deltaY > 0) {\r\n        this.dollyIn(this.getZoomScale());\r\n      }\r\n\r\n      this.update();\r\n    });\r\n\r\n    _defineProperty(this, \"handleKeyDown\", event => {\r\n      let needsUpdate = false;\r\n\r\n      switch (event.code) {\r\n        case this.keys.UP:\r\n          this.pan(0, this.keyPanSpeed);\r\n          needsUpdate = true;\r\n          break;\r\n\r\n        case this.keys.BOTTOM:\r\n          this.pan(0, -this.keyPanSpeed);\r\n          needsUpdate = true;\r\n          break;\r\n\r\n        case this.keys.LEFT:\r\n          this.pan(this.keyPanSpeed, 0);\r\n          needsUpdate = true;\r\n          break;\r\n\r\n        case this.keys.RIGHT:\r\n          this.pan(-this.keyPanSpeed, 0);\r\n          needsUpdate = true;\r\n          break;\r\n      }\r\n\r\n      if (needsUpdate) {\r\n        // prevent the browser from scrolling on cursor keys\r\n        event.preventDefault();\r\n        this.update();\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchStartRotate\", event => {\r\n      if (event.touches.length == 1) {\r\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\r\n      } else {\r\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\r\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\r\n        this.rotateStart.set(x, y);\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchStartPan\", event => {\r\n      if (event.touches.length == 1) {\r\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\r\n      } else {\r\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\r\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\r\n        this.panStart.set(x, y);\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchStartDolly\", event => {\r\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\r\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n      this.dollyStart.set(0, distance);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchStartDollyPan\", event => {\r\n      if (this.enableZoom) this.handleTouchStartDolly(event);\r\n      if (this.enablePan) this.handleTouchStartPan(event);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchStartDollyRotate\", event => {\r\n      if (this.enableZoom) this.handleTouchStartDolly(event);\r\n      if (this.enableRotate) this.handleTouchStartRotate(event);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchMoveRotate\", event => {\r\n      if (event.touches.length == 1) {\r\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\r\n      } else {\r\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\r\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\r\n        this.rotateEnd.set(x, y);\r\n      }\r\n\r\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\r\n      const element = this.domElement;\r\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight); // yes, height\r\n\r\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\r\n      this.rotateStart.copy(this.rotateEnd);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchMovePan\", event => {\r\n      if (event.touches.length == 1) {\r\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\r\n      } else {\r\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\r\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\r\n        this.panEnd.set(x, y);\r\n      }\r\n\r\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\r\n      this.pan(this.panDelta.x, this.panDelta.y);\r\n      this.panStart.copy(this.panEnd);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchMoveDolly\", event => {\r\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\r\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\r\n      const distance = Math.sqrt(dx * dx + dy * dy);\r\n      this.dollyEnd.set(0, distance);\r\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\r\n      this.dollyIn(this.dollyDelta.y);\r\n      this.dollyStart.copy(this.dollyEnd);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchMoveDollyPan\", event => {\r\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\r\n      if (this.enablePan) this.handleTouchMovePan(event);\r\n    });\r\n\r\n    _defineProperty(this, \"handleTouchMoveDollyRotate\", event => {\r\n      if (this.enableZoom) this.handleTouchMoveDolly(event);\r\n      if (this.enableRotate) this.handleTouchMoveRotate(event);\r\n    });\r\n\r\n    _defineProperty(this, \"onMouseDown\", event => {\r\n      if (this.enabled === false) return; // Prevent the browser from scrolling.\r\n\r\n      event.preventDefault(); // Manually set the focus since calling preventDefault above\r\n      // prevents the browser from setting it automatically.\r\n\r\n      this.domElement.focus ? this.domElement.focus() : window.focus();\r\n      let mouseAction;\r\n\r\n      switch (event.button) {\r\n        case 0:\r\n          mouseAction = this.mouseButtons.LEFT;\r\n          break;\r\n\r\n        case 1:\r\n          mouseAction = this.mouseButtons.MIDDLE;\r\n          break;\r\n\r\n        case 2:\r\n          mouseAction = this.mouseButtons.RIGHT;\r\n          break;\r\n\r\n        default:\r\n          mouseAction = -1;\r\n      }\r\n\r\n      switch (mouseAction) {\r\n        case MOUSE.DOLLY:\r\n          if (this.enableZoom === false) return;\r\n          this.handleMouseDownDolly(event);\r\n          this.state = STATE.DOLLY;\r\n          break;\r\n\r\n        case MOUSE.ROTATE:\r\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\r\n            if (this.enablePan === false) return;\r\n            this.handleMouseDownPan(event);\r\n            this.state = STATE.PAN;\r\n          } else {\r\n            if (this.enableRotate === false) return;\r\n            this.handleMouseDownRotate(event);\r\n            this.state = STATE.ROTATE;\r\n          }\r\n\r\n          break;\r\n\r\n        case MOUSE.PAN:\r\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\r\n            if (this.enableRotate === false) return;\r\n            this.handleMouseDownRotate(event);\r\n            this.state = STATE.ROTATE;\r\n          } else {\r\n            if (this.enablePan === false) return;\r\n            this.handleMouseDownPan(event);\r\n            this.state = STATE.PAN;\r\n          }\r\n\r\n          break;\r\n\r\n        default:\r\n          this.state = STATE.NONE;\r\n      }\r\n\r\n      if (this.state !== STATE.NONE) {\r\n        document.addEventListener('mousemove', this.onMouseMove, false);\r\n        document.addEventListener('mouseup', this.onMouseUp, false);\r\n        this.dispatchEvent(this.startEvent);\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"onMouseMove\", event => {\r\n      if (this.enabled === false) return;\r\n      event.preventDefault();\r\n\r\n      switch (this.state) {\r\n        case STATE.ROTATE:\r\n          if (this.enableRotate === false) return;\r\n          this.handleMouseMoveRotate(event);\r\n          break;\r\n\r\n        case STATE.DOLLY:\r\n          if (this.enableZoom === false) return;\r\n          this.handleMouseMoveDolly(event);\r\n          break;\r\n\r\n        case STATE.PAN:\r\n          if (this.enablePan === false) return;\r\n          this.handleMouseMovePan(event);\r\n          break;\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"onMouseUp\", () => {\r\n      if (this.enabled === false) return; // this.handleMouseUp()\r\n\r\n      document.removeEventListener('mousemove', this.onMouseMove, false);\r\n      document.removeEventListener('mouseup', this.onMouseUp, false);\r\n      this.dispatchEvent(this.endEvent);\r\n      this.state = STATE.NONE;\r\n    });\r\n\r\n    _defineProperty(this, \"onMouseWheel\", event => {\r\n      if (this.enabled === false || this.enableZoom === false || this.state !== STATE.NONE && this.state !== STATE.ROTATE) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      this.dispatchEvent(this.startEvent);\r\n      this.handleMouseWheel(event);\r\n      this.dispatchEvent(this.endEvent);\r\n    });\r\n\r\n    _defineProperty(this, \"onKeyDown\", event => {\r\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false) return;\r\n      this.handleKeyDown(event);\r\n    });\r\n\r\n    _defineProperty(this, \"onTouchStart\", event => {\r\n      if (this.enabled === false) return;\r\n      event.preventDefault();\r\n\r\n      switch (event.touches.length) {\r\n        case 1:\r\n          switch (this.touches.ONE) {\r\n            case TOUCH.ROTATE:\r\n              if (this.enableRotate === false) return;\r\n              this.handleTouchStartRotate(event);\r\n              this.state = STATE.TOUCH_ROTATE;\r\n              break;\r\n\r\n            case TOUCH.PAN:\r\n              if (this.enablePan === false) return;\r\n              this.handleTouchStartPan(event);\r\n              this.state = STATE.TOUCH_PAN;\r\n              break;\r\n\r\n            default:\r\n              this.state = STATE.NONE;\r\n          }\r\n\r\n          break;\r\n\r\n        case 2:\r\n          switch (this.touches.TWO) {\r\n            case TOUCH.DOLLY_PAN:\r\n              if (this.enableZoom === false && this.enablePan === false) return;\r\n              this.handleTouchStartDollyPan(event);\r\n              this.state = STATE.TOUCH_DOLLY_PAN;\r\n              break;\r\n\r\n            case TOUCH.DOLLY_ROTATE:\r\n              if (this.enableZoom === false && this.enableRotate === false) return;\r\n              this.handleTouchStartDollyRotate(event);\r\n              this.state = STATE.TOUCH_DOLLY_ROTATE;\r\n              break;\r\n\r\n            default:\r\n              this.state = STATE.NONE;\r\n          }\r\n\r\n          break;\r\n\r\n        default:\r\n          this.state = STATE.NONE;\r\n      }\r\n\r\n      if (this.state !== STATE.NONE) {\r\n        this.dispatchEvent(this.startEvent);\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"onTouchMove\", event => {\r\n      if (this.enabled === false) return;\r\n      event.preventDefault();\r\n\r\n      switch (this.state) {\r\n        case STATE.TOUCH_ROTATE:\r\n          if (this.enableRotate === false) return;\r\n          this.handleTouchMoveRotate(event);\r\n          this.update();\r\n          break;\r\n\r\n        case STATE.TOUCH_PAN:\r\n          if (this.enablePan === false) return;\r\n          this.handleTouchMovePan(event);\r\n          this.update();\r\n          break;\r\n\r\n        case STATE.TOUCH_DOLLY_PAN:\r\n          if (this.enableZoom === false && this.enablePan === false) return;\r\n          this.handleTouchMoveDollyPan(event);\r\n          this.update();\r\n          break;\r\n\r\n        case STATE.TOUCH_DOLLY_ROTATE:\r\n          if (this.enableZoom === false && this.enableRotate === false) return;\r\n          this.handleTouchMoveDollyRotate(event);\r\n          this.update();\r\n          break;\r\n\r\n        default:\r\n          this.state = STATE.NONE;\r\n      }\r\n    });\r\n\r\n    _defineProperty(this, \"onTouchEnd\", () => {\r\n      if (this.enabled === false) return; // this.handleTouchEnd()\r\n\r\n      this.dispatchEvent(this.endEvent);\r\n      this.state = STATE.NONE;\r\n    });\r\n\r\n    _defineProperty(this, \"onContextMenu\", event => {\r\n      if (this.enabled === false) return;\r\n      event.preventDefault();\r\n    });\r\n\r\n    if (domElement === undefined) {\r\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\r\n    }\r\n\r\n    if (domElement instanceof Document) {\r\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\r\n    }\r\n\r\n    this.object = object;\r\n    this.domElement = domElement;\r\n    this.mouseButtons = {\r\n      LEFT: MOUSE.ROTATE,\r\n      MIDDLE: MOUSE.DOLLY,\r\n      RIGHT: MOUSE.PAN\r\n    }; // for reset\r\n\r\n    this.target0 = this.target.clone();\r\n    this.position0 = this.object.position.clone();\r\n    this.quaternion0 = this.object.quaternion.clone();\r\n    this.zoom0 = this.object.zoom; //\r\n    // internals\r\n    //\r\n    // so camera.up is the orbit axis\r\n\r\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\r\n    this.quatInverse = this.quat.clone().invert();\r\n    this.lastPosition = new Vector3();\r\n    this.lastQuaternion = new Quaternion();\r\n    this.domElement.addEventListener('contextmenu', this.onContextMenu, false);\r\n    this.domElement.addEventListener('mousedown', this.onMouseDown, false);\r\n    this.domElement.addEventListener('wheel', this.onMouseWheel, false);\r\n    this.domElement.addEventListener('touchstart', this.onTouchStart, false);\r\n    this.domElement.addEventListener('touchend', this.onTouchEnd, false);\r\n    this.domElement.addEventListener('touchmove', this.onTouchMove, false);\r\n    this.domElement.addEventListener('keydown', this.onKeyDown, false); // make sure element can receive keys.\r\n\r\n    if (this.domElement.tabIndex === -1) {\r\n      this.domElement.tabIndex = 0;\r\n    } // force an update at start\r\n\r\n\r\n    this.object.lookAt(this.target);\r\n    this.update();\r\n    this.saveState();\r\n  }\r\n\r\n  handleMouseUp() {// no-op\r\n  }\r\n\r\n  handleTouchEnd() {// no-op\r\n  } //\r\n  // event handlers - FSM: listen for events and reset state\r\n  //\r\n\r\n\r\n}\r\n/**\r\n * OrbitControls maintains the \"up\" direction, camera.up (+Y by default).\r\n *\r\n * @event Orbit - left mouse / touch: one-finger move\r\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n */\r\n\r\n\r\nclass OrbitControlsExp extends CameraControls {\r\n  constructor(object, domElement) {\r\n    super(object, domElement);\r\n\r\n    _defineProperty(this, \"mouseButtons\", void 0);\r\n\r\n    _defineProperty(this, \"touches\", void 0);\r\n\r\n    this.mouseButtons = {\r\n      LEFT: MOUSE.ROTATE,\r\n      RIGHT: MOUSE.PAN\r\n    };\r\n    this.touches = {\r\n      ONE: TOUCH.ROTATE,\r\n      TWO: TOUCH.DOLLY_PAN\r\n    };\r\n  }\r\n\r\n}\r\n/**\r\n * MapControls maintains the \"up\" direction, camera.up (+Y by default)\r\n *\r\n * @event Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\r\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n * @event Pan - left mouse, or left right + ctrl/meta/shiftKey, or arrow keys / touch: one-finger move\r\n */\r\n\r\n\r\nclass MapControlsExp extends CameraControls {\r\n  constructor(object, domElement) {\r\n    super(object, domElement);\r\n\r\n    _defineProperty(this, \"mouseButtons\", void 0);\r\n\r\n    _defineProperty(this, \"touches\", void 0);\r\n\r\n    this.mouseButtons = {\r\n      LEFT: MOUSE.PAN,\r\n      RIGHT: MOUSE.ROTATE\r\n    };\r\n    this.touches = {\r\n      ONE: TOUCH.PAN,\r\n      TWO: TOUCH.DOLLY_ROTATE\r\n    };\r\n  }\r\n\r\n}\r\n/**\r\n * TrackballControls allows the camera to rotate over the polls and does not maintain camera.up\r\n *\r\n * @event Orbit - left mouse / touch: one-finger move\r\n * @event Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\r\n * @event Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\r\n */\r\n\r\n\r\nclass TrackballControlsExp extends CameraControls {\r\n  constructor(object, domElement) {\r\n    super(object, domElement);\r\n\r\n    _defineProperty(this, \"trackball\", void 0);\r\n\r\n    _defineProperty(this, \"screenSpacePanning\", void 0);\r\n\r\n    _defineProperty(this, \"autoRotate\", void 0);\r\n\r\n    _defineProperty(this, \"mouseButtons\", void 0);\r\n\r\n    _defineProperty(this, \"touches\", void 0);\r\n\r\n    this.trackball = true;\r\n    this.screenSpacePanning = true;\r\n    this.autoRotate = false;\r\n    this.mouseButtons = {\r\n      LEFT: MOUSE.ROTATE,\r\n      RIGHT: MOUSE.PAN\r\n    };\r\n    this.touches = {\r\n      ONE: TOUCH.ROTATE,\r\n      TWO: TOUCH.DOLLY_PAN\r\n    };\r\n  }\r\n\r\n}\r\n\r\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}