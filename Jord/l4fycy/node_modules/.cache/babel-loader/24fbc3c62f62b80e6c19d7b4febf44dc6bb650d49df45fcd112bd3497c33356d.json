{"ast":null,"code":"import React from'react';import'./CartProducts.css';import{useParams}from'react-router-dom';import{useState,useEffect}from'react';import{Link}from'react-router-dom';import Products from'../Products/Products';import{ChakraProvider}from'@chakra-ui/react';import{Text,Heading,Card,CardHeader,CardBody,CardFooter,Stack,Button,Image}from'@chakra-ui/react';import{NumberInput,NumberInputField,NumberInputStepper,NumberIncrementStepper,NumberDecrementStepper}from'@chakra-ui/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CartProducts=Props=>{const{ProductId}=Props;console.log(ProductId);let[Products,setProducts]=useState([ProductId]);useEffect(()=>{getProducts();},[]);let getProducts=async()=>{let response=await fetch(\"http://localhost:8000/Products/Products/\".concat(ProductId,\"/\"));let data=await response.json();console.log(data);setProducts(data);};let removeCart=async()=>{console.log(\"remover on\");try{const authToken=localStorage.getItem('salesToken');console.log(ProductId,\"is the productID\");let response=await fetch(\"http://localhost:8000/User/removecart/\".concat(ProductId),{method:'POST',headers:{Accept:'application/json','Authorization':\"Bearer \".concat(authToken),'Content-Type':'application/json'}});if(response.status==200){alert('Product removed from Cart');}else{const error=new Error(response.statusText);throw error;}}catch(err){console.log('err');alert(err);console.error(err);}};return/*#__PURE__*/_jsx(ChakraProvider,{children:/*#__PURE__*/_jsxs(Card,{direction:{base:'column',sm:'row'},style:{marginTop:'20px',alignItems:'center'},overflow:\"hidden\",variant:\"outline\",children:[/*#__PURE__*/_jsx(Image,{objectFit:\"cover\",maxW:{base:'100%',sm:'200px'},src:Products.image,alt:\"Caffe Latte\"}),/*#__PURE__*/_jsxs(Stack,{children:[/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(Heading,{size:\"md\",children:Products.name}),/*#__PURE__*/_jsxs(Text,{py:\"2\",children:[\"$\",Products.price]})]}),/*#__PURE__*/_jsx(CardFooter,{children:/*#__PURE__*/_jsx(\"button\",{onClick:removeCart,children:\"Remove\"})})]})]})});};export default CartProducts;","map":{"version":3,"names":["React","useParams","useState","useEffect","Link","Products","ChakraProvider","Text","Heading","Card","CardHeader","CardBody","CardFooter","Stack","Button","Image","NumberInput","NumberInputField","NumberInputStepper","NumberIncrementStepper","NumberDecrementStepper","jsx","_jsx","jsxs","_jsxs","CartProducts","Props","ProductId","console","log","setProducts","getProducts","response","fetch","concat","data","json","removeCart","authToken","localStorage","getItem","method","headers","Accept","status","alert","error","Error","statusText","err","children","direction","base","sm","style","marginTop","alignItems","overflow","variant","objectFit","maxW","src","image","alt","size","name","py","price","onClick"],"sources":["D:/Repos/NIKE-DJANGO/Jord/l4fycy/src/CartProducts/CartProducts.js"],"sourcesContent":["import React from 'react'\r\nimport './CartProducts.css'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Products from '../Products/Products'\r\nimport { ChakraProvider } from '@chakra-ui/react'\r\nimport { Text, Heading, Card, CardHeader, CardBody, CardFooter, Stack, Button, Image } from '@chakra-ui/react'\r\nimport {\r\n  NumberInput,\r\n  NumberInputField,\r\n  NumberInputStepper,\r\n  NumberIncrementStepper,\r\n  NumberDecrementStepper,\r\n} from '@chakra-ui/react'\r\n\r\nconst CartProducts = (Props) => {\r\n  const { ProductId } = Props;\r\n  console.log(ProductId)\r\n  let [Products, setProducts] = useState([ProductId])\r\n\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  let getProducts = async () => {\r\n    let response = await fetch(`http://localhost:8000/Products/Products/${ProductId}/`)\r\n\r\n    let data = await response.json()\r\n    console.log(data)\r\n    setProducts(data)\r\n  }\r\n\r\n  let removeCart = async() => {\r\n    console.log(\"remover on\")\r\n    try{\r\n    const authToken = localStorage.getItem('salesToken');\r\n    console.log(ProductId, \"is the productID\")\r\n    let response = await fetch(`http://localhost:8000/User/removecart/${ProductId}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Authorization': `Bearer ${authToken}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n    if (response.status == 200) {\r\n      alert('Product removed from Cart')\r\n    } else {\r\n      const error = new Error(response.statusText)\r\n      throw error;\r\n    }\r\n  } catch (err) {\r\n    console.log('err')\r\n    alert(err)\r\n    console.error(err)\r\n  }\r\n}\r\n\r\n\r\n\r\n  return (\r\n    <ChakraProvider >\r\n    <Card\r\n    direction={{ base: 'column', sm: 'row'}}\r\n    style={{marginTop:'20px', alignItems:'center'}}\r\n    overflow='hidden'\r\n    variant='outline'\r\n  >\r\n    <Image\r\n      objectFit='cover'\r\n      maxW={{ base: '100%', sm: '200px' }}\r\n      src={Products.image}\r\n      alt='Caffe Latte'\r\n    />\r\n\r\n    <Stack>\r\n      <CardBody>\r\n        <Heading size='md'>{Products.name}</Heading>\r\n\r\n        <Text py='2'>\r\n          ${Products.price}\r\n        </Text>\r\n      </CardBody>\r\n      <CardFooter>\r\n        <button onClick={removeCart}>Remove</button>\r\n      </CardFooter>\r\n    </Stack>\r\n  </Card>\r\n  </ChakraProvider>\r\n  )\r\n}\r\nexport default CartProducts\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,oBAAoB,CAC3B,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,OAASC,cAAc,KAAQ,kBAAkB,CACjD,OAASC,IAAI,CAAEC,OAAO,CAAEC,IAAI,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,KAAK,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CAC9G,OACEC,WAAW,CACXC,gBAAgB,CAChBC,kBAAkB,CAClBC,sBAAsB,CACtBC,sBAAsB,KACjB,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CAC9B,KAAM,CAAEC,SAAU,CAAC,CAAGD,KAAK,CAC3BE,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC,CACtB,GAAI,CAACtB,QAAQ,CAAEyB,WAAW,CAAC,CAAG5B,QAAQ,CAAC,CAACyB,SAAS,CAAC,CAAC,CAGnDxB,SAAS,CAAC,IAAM,CACd4B,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,4CAAAC,MAAA,CAA4CP,SAAS,KAAG,CAAC,CAEnF,GAAI,CAAAQ,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAChCR,OAAO,CAACC,GAAG,CAACM,IAAI,CAAC,CACjBL,WAAW,CAACK,IAAI,CAAC,CACnB,CAAC,CAED,GAAI,CAAAE,UAAU,CAAG,KAAAA,CAAA,GAAW,CAC1BT,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CACzB,GAAG,CACH,KAAM,CAAAS,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CACpDZ,OAAO,CAACC,GAAG,CAACF,SAAS,CAAE,kBAAkB,CAAC,CAC1C,GAAI,CAAAK,QAAQ,CAAG,KAAM,CAAAC,KAAK,0CAAAC,MAAA,CAA0CP,SAAS,EAAI,CAC/Ec,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,eAAe,WAAAT,MAAA,CAAYI,SAAS,CAAE,CACtC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,GAAIN,QAAQ,CAACY,MAAM,EAAI,GAAG,CAAE,CAC1BC,KAAK,CAAC,2BAA2B,CAAC,CACpC,CAAC,IAAM,CACL,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,KAAK,CAACf,QAAQ,CAACgB,UAAU,CAAC,CAC5C,KAAM,CAAAF,KAAK,CACb,CACF,CAAE,MAAOG,GAAG,CAAE,CACZrB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAClBgB,KAAK,CAACI,GAAG,CAAC,CACVrB,OAAO,CAACkB,KAAK,CAACG,GAAG,CAAC,CACpB,CACF,CAAC,CAIC,mBACE3B,IAAA,CAAChB,cAAc,EAAA4C,QAAA,cACf1B,KAAA,CAACf,IAAI,EACL0C,SAAS,CAAE,CAAEC,IAAI,CAAE,QAAQ,CAAEC,EAAE,CAAE,KAAK,CAAE,CACxCC,KAAK,CAAE,CAACC,SAAS,CAAC,MAAM,CAAEC,UAAU,CAAC,QAAQ,CAAE,CAC/CC,QAAQ,CAAC,QAAQ,CACjBC,OAAO,CAAC,SAAS,CAAAR,QAAA,eAEjB5B,IAAA,CAACP,KAAK,EACJ4C,SAAS,CAAC,OAAO,CACjBC,IAAI,CAAE,CAAER,IAAI,CAAE,MAAM,CAAEC,EAAE,CAAE,OAAQ,CAAE,CACpCQ,GAAG,CAAExD,QAAQ,CAACyD,KAAM,CACpBC,GAAG,CAAC,aAAa,CAClB,CAAC,cAEFvC,KAAA,CAACX,KAAK,EAAAqC,QAAA,eACJ1B,KAAA,CAACb,QAAQ,EAAAuC,QAAA,eACP5B,IAAA,CAACd,OAAO,EAACwD,IAAI,CAAC,IAAI,CAAAd,QAAA,CAAE7C,QAAQ,CAAC4D,IAAI,CAAU,CAAC,cAE5CzC,KAAA,CAACjB,IAAI,EAAC2D,EAAE,CAAC,GAAG,CAAAhB,QAAA,EAAC,GACV,CAAC7C,QAAQ,CAAC8D,KAAK,EACZ,CAAC,EACC,CAAC,cACX7C,IAAA,CAACV,UAAU,EAAAsC,QAAA,cACT5B,IAAA,WAAQ8C,OAAO,CAAE/B,UAAW,CAAAa,QAAA,CAAC,QAAM,CAAQ,CAAC,CAClC,CAAC,EACR,CAAC,EACJ,CAAC,CACS,CAAC,CAEnB,CAAC,CACD,cAAe,CAAAzB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}