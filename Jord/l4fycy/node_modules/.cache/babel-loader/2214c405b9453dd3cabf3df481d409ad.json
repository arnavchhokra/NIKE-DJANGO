{"ast":null,"code":"import { Vector3 } from 'three';\n\nvar Capsule = function () {\n  var _v1 = new Vector3();\n\n  var _v2 = new Vector3();\n\n  var _v3 = new Vector3();\n\n  var EPS = 1e-10;\n\n  function Capsule(start, end, radius) {\n    this.start = start == undefined ? new Vector3(0, 0, 0) : start;\n    this.end = end == undefined ? new Vector3(0, 1, 0) : end;\n    this.radius = radius == undefined ? 1 : radius;\n  }\n\n  Object.assign(Capsule.prototype, {\n    clone: function clone() {\n      return new Capsule(this.start.clone(), this.end.clone(), this.radius);\n    },\n    set: function set(start, end, radius) {\n      this.start.copy(start);\n      this.end.copy(end);\n      this.radius = radius;\n    },\n    copy: function copy(capsule) {\n      this.start.copy(capsule.start);\n      this.end.copy(capsule.end);\n      this.radius = capsule.radius;\n    },\n    getCenter: function getCenter(target) {\n      return target.copy(this.end).add(this.start).multiplyScalar(0.5);\n    },\n    translate: function translate(v) {\n      this.start.add(v);\n      this.end.add(v);\n    },\n    checkAABBAxis: function checkAABBAxis(p1x, p1y, p2x, p2y, minx, maxx, miny, maxy, radius) {\n      return (minx - p1x < radius || minx - p2x < radius) && (p1x - maxx < radius || p2x - maxx < radius) && (miny - p1y < radius || miny - p2y < radius) && (p1y - maxy < radius || p2y - maxy < radius);\n    },\n    intersectsBox: function intersectsBox(box) {\n      return this.checkAABBAxis(this.start.x, this.start.y, this.end.x, this.end.y, box.min.x, box.max.x, box.min.y, box.max.y, this.radius) && this.checkAABBAxis(this.start.x, this.start.z, this.end.x, this.end.z, box.min.x, box.max.x, box.min.z, box.max.z, this.radius) && this.checkAABBAxis(this.start.y, this.start.z, this.end.y, this.end.z, box.min.y, box.max.y, box.min.z, box.max.z, this.radius);\n    },\n    lineLineMinimumPoints: function lineLineMinimumPoints(line1, line2) {\n      var r = _v1.copy(line1.end).sub(line1.start);\n\n      var s = _v2.copy(line2.end).sub(line2.start);\n\n      var w = _v3.copy(line2.start).sub(line1.start);\n\n      var a = r.dot(s),\n          b = r.dot(r),\n          c = s.dot(s),\n          d = s.dot(w),\n          e = r.dot(w);\n      var t1,\n          t2,\n          divisor = b * c - a * a;\n\n      if (Math.abs(divisor) < EPS) {\n        var d1 = -d / c;\n        var d2 = (a - d) / c;\n\n        if (Math.abs(d1 - 0.5) < Math.abs(d2 - 0.5)) {\n          t1 = 0;\n          t2 = d1;\n        } else {\n          t1 = 1;\n          t2 = d2;\n        }\n      } else {\n        t1 = (d * a + e * c) / divisor;\n        t2 = (t1 * a - d) / c;\n      }\n\n      t2 = Math.max(0, Math.min(1, t2));\n      t1 = Math.max(0, Math.min(1, t1));\n      var point1 = r.multiplyScalar(t1).add(line1.start);\n      var point2 = s.multiplyScalar(t2).add(line2.start);\n      return [point1, point2];\n    }\n  });\n  return Capsule;\n}();\n\nexport { Capsule };","map":{"version":3,"names":["Vector3","Capsule","_v1","_v2","_v3","EPS","start","end","radius","undefined","Object","assign","prototype","clone","set","copy","capsule","getCenter","target","add","multiplyScalar","translate","v","checkAABBAxis","p1x","p1y","p2x","p2y","minx","maxx","miny","maxy","intersectsBox","box","x","y","min","max","z","lineLineMinimumPoints","line1","line2","r","sub","s","w","a","dot","b","c","d","e","t1","t2","divisor","Math","abs","d1","d2","point1","point2"],"sources":["C:/Users/Arnav/Downloads/l4fycy/node_modules/three-stdlib/math/Capsule.js"],"sourcesContent":["import { Vector3 } from 'three';\n\nvar Capsule = function () {\n  var _v1 = new Vector3();\n\n  var _v2 = new Vector3();\n\n  var _v3 = new Vector3();\n\n  var EPS = 1e-10;\n\n  function Capsule(start, end, radius) {\n    this.start = start == undefined ? new Vector3(0, 0, 0) : start;\n    this.end = end == undefined ? new Vector3(0, 1, 0) : end;\n    this.radius = radius == undefined ? 1 : radius;\n  }\n\n  Object.assign(Capsule.prototype, {\n    clone: function () {\n      return new Capsule(this.start.clone(), this.end.clone(), this.radius);\n    },\n    set: function (start, end, radius) {\n      this.start.copy(start);\n      this.end.copy(end);\n      this.radius = radius;\n    },\n    copy: function (capsule) {\n      this.start.copy(capsule.start);\n      this.end.copy(capsule.end);\n      this.radius = capsule.radius;\n    },\n    getCenter: function (target) {\n      return target.copy(this.end).add(this.start).multiplyScalar(0.5);\n    },\n    translate: function (v) {\n      this.start.add(v);\n      this.end.add(v);\n    },\n    checkAABBAxis: function (p1x, p1y, p2x, p2y, minx, maxx, miny, maxy, radius) {\n      return (minx - p1x < radius || minx - p2x < radius) && (p1x - maxx < radius || p2x - maxx < radius) && (miny - p1y < radius || miny - p2y < radius) && (p1y - maxy < radius || p2y - maxy < radius);\n    },\n    intersectsBox: function (box) {\n      return this.checkAABBAxis(this.start.x, this.start.y, this.end.x, this.end.y, box.min.x, box.max.x, box.min.y, box.max.y, this.radius) && this.checkAABBAxis(this.start.x, this.start.z, this.end.x, this.end.z, box.min.x, box.max.x, box.min.z, box.max.z, this.radius) && this.checkAABBAxis(this.start.y, this.start.z, this.end.y, this.end.z, box.min.y, box.max.y, box.min.z, box.max.z, this.radius);\n    },\n    lineLineMinimumPoints: function (line1, line2) {\n      var r = _v1.copy(line1.end).sub(line1.start);\n\n      var s = _v2.copy(line2.end).sub(line2.start);\n\n      var w = _v3.copy(line2.start).sub(line1.start);\n\n      var a = r.dot(s),\n          b = r.dot(r),\n          c = s.dot(s),\n          d = s.dot(w),\n          e = r.dot(w);\n      var t1,\n          t2,\n          divisor = b * c - a * a;\n\n      if (Math.abs(divisor) < EPS) {\n        var d1 = -d / c;\n        var d2 = (a - d) / c;\n\n        if (Math.abs(d1 - 0.5) < Math.abs(d2 - 0.5)) {\n          t1 = 0;\n          t2 = d1;\n        } else {\n          t1 = 1;\n          t2 = d2;\n        }\n      } else {\n        t1 = (d * a + e * c) / divisor;\n        t2 = (t1 * a - d) / c;\n      }\n\n      t2 = Math.max(0, Math.min(1, t2));\n      t1 = Math.max(0, Math.min(1, t1));\n      var point1 = r.multiplyScalar(t1).add(line1.start);\n      var point2 = s.multiplyScalar(t2).add(line2.start);\n      return [point1, point2];\n    }\n  });\n  return Capsule;\n}();\n\nexport { Capsule };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}