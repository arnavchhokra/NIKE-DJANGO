{"ast":null,"code":"import _objectSpread from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"eps\", \"style\", \"className\", \"prepend\", \"center\", \"fullscreen\", \"portal\", \"distanceFactor\", \"sprite\", \"transform\", \"occlude\", \"onOcclude\", \"zIndexRange\", \"calculatePosition\", \"as\", \"wrapperClass\", \"pointerEvents\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nvar v1 = new Vector3();\nvar v2 = new Vector3();\nvar v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  var widthHalf = size.width / 2;\n  var heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  var deltaCamObj = objectPos.sub(cameraPos);\n  var camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  var elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  var intersects = raycaster.intersectObjects(occlude, true);\n\n  if (intersects.length) {\n    var intersectionDistance = intersects[0].distance;\n    var pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n\n  return true;\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var vFOV = camera.fov * Math.PI / 180;\n    var dist = objectPos.distanceTo(cameraPos);\n    var scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var dist = objectPos.distanceTo(cameraPos);\n    var A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    var B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nvar epsilon = function epsilon(value) {\n  return Math.abs(value) < 1e-10 ? 0 : value;\n};\n\nfunction getCSSMatrix(matrix, multipliers) {\n  var prepend = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var matrix3d = 'matrix3d(';\n\n  for (var i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nvar getCameraCSSMatrix = function (multipliers) {\n  return function (matrix) {\n    return getCSSMatrix(matrix, multipliers);\n  };\n}([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nvar getObjectCSSMatrix = function (scaleMultipliers) {\n  return function (matrix, factor) {\n    return getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n  };\n}(function (f) {\n  return [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1];\n});\n\nvar Html = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      _ref$eps = _ref.eps,\n      eps = _ref$eps === void 0 ? 0.001 : _ref$eps,\n      style = _ref.style,\n      className = _ref.className,\n      prepend = _ref.prepend,\n      center = _ref.center,\n      fullscreen = _ref.fullscreen,\n      portal = _ref.portal,\n      distanceFactor = _ref.distanceFactor,\n      _ref$sprite = _ref.sprite,\n      sprite = _ref$sprite === void 0 ? false : _ref$sprite,\n      _ref$transform = _ref.transform,\n      transform = _ref$transform === void 0 ? false : _ref$transform,\n      occlude = _ref.occlude,\n      onOcclude = _ref.onOcclude,\n      _ref$zIndexRange = _ref.zIndexRange,\n      zIndexRange = _ref$zIndexRange === void 0 ? [16777271, 0] : _ref$zIndexRange,\n      _ref$calculatePositio = _ref.calculatePosition,\n      calculatePosition = _ref$calculatePositio === void 0 ? defaultCalculatePosition : _ref$calculatePositio,\n      _ref$as = _ref.as,\n      as = _ref$as === void 0 ? 'div' : _ref$as,\n      wrapperClass = _ref.wrapperClass,\n      _ref$pointerEvents = _ref.pointerEvents,\n      pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _portal$current;\n\n  var gl = useThree(function (_ref2) {\n    var gl = _ref2.gl;\n    return gl;\n  });\n  var camera = useThree(function (_ref3) {\n    var camera = _ref3.camera;\n    return camera;\n  });\n  var scene = useThree(function (_ref4) {\n    var scene = _ref4.scene;\n    return scene;\n  });\n  var size = useThree(function (_ref5) {\n    var size = _ref5.size;\n    return size;\n  });\n  var raycaster = useThree(function (_ref6) {\n    var raycaster = _ref6.raycaster;\n    return raycaster;\n  });\n\n  var _React$useState = React.useState(function () {\n    return document.createElement(as);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      el = _React$useState2[0];\n\n  var root = React.useRef();\n  var group = React.useRef(null);\n  var oldZoom = React.useRef(0);\n  var oldPosition = React.useRef([0, 0]);\n  var transformOuterRef = React.useRef(null);\n  var transformInnerRef = React.useRef(null);\n  var target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useLayoutEffect(function () {\n    if (group.current) {\n      var currentRoot = root.current = ReactDOM.createRoot(el);\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = \"position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;\";\n      } else {\n        var vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = \"position:absolute;top:0;left:0;transform:translate3d(\".concat(vec[0], \"px,\").concat(vec[1], \"px,0);transform-origin:0 0;\");\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return function () {\n        if (target) target.removeChild(el);\n        currentRoot.unmount();\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(function () {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  var styles = React.useMemo(function () {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return _objectSpread(_objectSpread({\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none'\n      }, fullscreen && {\n        top: -size.height / 2,\n        left: -size.width / 2,\n        width: size.width,\n        height: size.height\n      }), style);\n    }\n  }, [style, center, fullscreen, size, transform]);\n  var transformInnerStyles = React.useMemo(function () {\n    return {\n      position: 'absolute',\n      pointerEvents: pointerEvents\n    };\n  }, [pointerEvents]);\n  React.useLayoutEffect(function () {\n    if (transform) {\n      var _root$current;\n\n      (_root$current = root.current) == null ? void 0 : _root$current.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))));\n    } else {\n      var _root$current2;\n\n      (_root$current2 = root.current) == null ? void 0 : _root$current2.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }));\n    }\n  });\n  var visible = React.useRef(true);\n  useFrame(function () {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      var vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        var isBehindCamera = isObjectBehindCamera(group.current, camera);\n        var raytraceTarget = false;\n\n        if (typeof occlude === 'boolean') {\n          if (occlude === true) {\n            raytraceTarget = [scene];\n          }\n        } else if (Array.isArray(occlude)) {\n          raytraceTarget = occlude.map(function (item) {\n            return item.current;\n          });\n        }\n\n        var previouslyVisible = visible.current;\n\n        if (raytraceTarget) {\n          var isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n\n        el.style.zIndex = \"\".concat(objectZIndex(group.current, camera, zIndexRange));\n\n        if (transform) {\n          var widthHalf = size.width / 2,\n              heightHalf = size.height / 2;\n          var fov = camera.projectionMatrix.elements[5] * heightHalf;\n          var isOrthographicCamera = camera.isOrthographicCamera,\n              top = camera.top,\n              left = camera.left,\n              bottom = camera.bottom,\n              right = camera.right;\n          var cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          var cameraTransform = isOrthographicCamera ? \"scale(\".concat(fov, \")translate(\").concat(epsilon(-(right + left) / 2), \"px,\").concat(epsilon((top + bottom) / 2), \"px)\") : \"translateZ(\".concat(fov, \"px)\");\n          var matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : \"\".concat(fov, \"px\");\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = \"\".concat(cameraTransform).concat(cameraMatrix, \"translate(\").concat(widthHalf, \"px,\").concat(heightHalf, \"px)\");\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          var scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = \"translate3d(\".concat(vec[0], \"px,\").concat(vec[1], \"px,0) scale(\").concat(scale, \")\");\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\nexport { Html };","map":{"version":3,"names":["_extends","React","ReactDOM","Vector3","OrthographicCamera","PerspectiveCamera","useThree","useFrame","v1","v2","v3","defaultCalculatePosition","el","camera","size","objectPos","setFromMatrixPosition","matrixWorld","project","widthHalf","width","heightHalf","height","x","y","isObjectBehindCamera","cameraPos","deltaCamObj","sub","camDir","getWorldDirection","angleTo","Math","PI","isObjectVisible","raycaster","occlude","elPos","screenPos","clone","setFromCamera","intersects","intersectObjects","length","intersectionDistance","distance","pointDistance","distanceTo","ray","origin","objectScale","zoom","vFOV","fov","dist","scaleFOV","tan","objectZIndex","zIndexRange","A","far","near","B","round","undefined","epsilon","value","abs","getCSSMatrix","matrix","multipliers","prepend","matrix3d","i","elements","getCameraCSSMatrix","getObjectCSSMatrix","scaleMultipliers","factor","f","Html","forwardRef","ref","children","eps","style","className","center","fullscreen","portal","distanceFactor","sprite","transform","onOcclude","calculatePosition","as","wrapperClass","pointerEvents","props","_portal$current","gl","scene","useState","document","createElement","root","useRef","group","oldZoom","oldPosition","transformOuterRef","transformInnerRef","target","current","domElement","parentNode","useLayoutEffect","currentRoot","createRoot","updateMatrixWorld","cssText","vec","appendChild","removeChild","unmount","styles","useMemo","position","top","left","transformStyle","transformInnerStyles","_root$current","render","_root$current2","visible","updateWorldMatrix","isBehindCamera","raytraceTarget","Array","isArray","map","item","previouslyVisible","isvisible","display","zIndex","projectionMatrix","isOrthographicCamera","bottom","right","cameraMatrix","matrixWorldInverse","cameraTransform","transpose","copyPosition","scale","perspective"],"sources":["D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@react-three/drei/web/Html.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom/client';\r\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\r\nimport { useThree, useFrame } from '@react-three/fiber';\r\n\r\nconst v1 = new Vector3();\r\nconst v2 = new Vector3();\r\nconst v3 = new Vector3();\r\n\r\nfunction defaultCalculatePosition(el, camera, size) {\r\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\r\n  objectPos.project(camera);\r\n  const widthHalf = size.width / 2;\r\n  const heightHalf = size.height / 2;\r\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\r\n}\r\n\r\nfunction isObjectBehindCamera(el, camera) {\r\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\r\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\r\n  const deltaCamObj = objectPos.sub(cameraPos);\r\n  const camDir = camera.getWorldDirection(v3);\r\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\r\n}\r\n\r\nfunction isObjectVisible(el, camera, raycaster, occlude) {\r\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\r\n  const screenPos = elPos.clone();\r\n  screenPos.project(camera);\r\n  raycaster.setFromCamera(screenPos, camera);\r\n  const intersects = raycaster.intersectObjects(occlude, true);\r\n\r\n  if (intersects.length) {\r\n    const intersectionDistance = intersects[0].distance;\r\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\r\n    return pointDistance < intersectionDistance;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction objectScale(el, camera) {\r\n  if (camera instanceof OrthographicCamera) {\r\n    return camera.zoom;\r\n  } else if (camera instanceof PerspectiveCamera) {\r\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\r\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\r\n    const vFOV = camera.fov * Math.PI / 180;\r\n    const dist = objectPos.distanceTo(cameraPos);\r\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\r\n    return 1 / scaleFOV;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\nfunction objectZIndex(el, camera, zIndexRange) {\r\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\r\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\r\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\r\n    const dist = objectPos.distanceTo(cameraPos);\r\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\r\n    const B = zIndexRange[1] - A * camera.far;\r\n    return Math.round(A * dist + B);\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\r\n\r\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\r\n  let matrix3d = 'matrix3d(';\r\n\r\n  for (let i = 0; i !== 16; i++) {\r\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\r\n  }\r\n\r\n  return prepend + matrix3d;\r\n}\r\n\r\nconst getCameraCSSMatrix = (multipliers => {\r\n  return matrix => getCSSMatrix(matrix, multipliers);\r\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\r\n\r\nconst getObjectCSSMatrix = (scaleMultipliers => {\r\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\r\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\r\n\r\nconst Html = /*#__PURE__*/React.forwardRef(({\r\n  children,\r\n  eps = 0.001,\r\n  style,\r\n  className,\r\n  prepend,\r\n  center,\r\n  fullscreen,\r\n  portal,\r\n  distanceFactor,\r\n  sprite = false,\r\n  transform = false,\r\n  occlude,\r\n  onOcclude,\r\n  zIndexRange = [16777271, 0],\r\n  calculatePosition = defaultCalculatePosition,\r\n  as = 'div',\r\n  wrapperClass,\r\n  pointerEvents = 'auto',\r\n  ...props\r\n}, ref) => {\r\n  var _portal$current;\r\n\r\n  const gl = useThree(({\r\n    gl\r\n  }) => gl);\r\n  const camera = useThree(({\r\n    camera\r\n  }) => camera);\r\n  const scene = useThree(({\r\n    scene\r\n  }) => scene);\r\n  const size = useThree(({\r\n    size\r\n  }) => size);\r\n  const raycaster = useThree(({\r\n    raycaster\r\n  }) => raycaster);\r\n  const [el] = React.useState(() => document.createElement(as));\r\n  const root = React.useRef();\r\n  const group = React.useRef(null);\r\n  const oldZoom = React.useRef(0);\r\n  const oldPosition = React.useRef([0, 0]);\r\n  const transformOuterRef = React.useRef(null);\r\n  const transformInnerRef = React.useRef(null);\r\n  const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\r\n  React.useLayoutEffect(() => {\r\n    if (group.current) {\r\n      const currentRoot = root.current = ReactDOM.createRoot(el);\r\n      scene.updateMatrixWorld();\r\n\r\n      if (transform) {\r\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\r\n      } else {\r\n        const vec = calculatePosition(group.current, camera, size);\r\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\r\n      }\r\n\r\n      if (target) {\r\n        if (prepend) target.prepend(el);else target.appendChild(el);\r\n      }\r\n\r\n      return () => {\r\n        if (target) target.removeChild(el);\r\n        currentRoot.unmount();\r\n      };\r\n    }\r\n  }, [target, transform]);\r\n  React.useLayoutEffect(() => {\r\n    if (wrapperClass) el.className = wrapperClass;\r\n  }, [wrapperClass]);\r\n  const styles = React.useMemo(() => {\r\n    if (transform) {\r\n      return {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: size.width,\r\n        height: size.height,\r\n        transformStyle: 'preserve-3d',\r\n        pointerEvents: 'none'\r\n      };\r\n    } else {\r\n      return {\r\n        position: 'absolute',\r\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\r\n        ...(fullscreen && {\r\n          top: -size.height / 2,\r\n          left: -size.width / 2,\r\n          width: size.width,\r\n          height: size.height\r\n        }),\r\n        ...style\r\n      };\r\n    }\r\n  }, [style, center, fullscreen, size, transform]);\r\n  const transformInnerStyles = React.useMemo(() => ({\r\n    position: 'absolute',\r\n    pointerEvents\r\n  }), [pointerEvents]);\r\n  React.useLayoutEffect(() => {\r\n    if (transform) {\r\n      var _root$current;\r\n\r\n      (_root$current = root.current) == null ? void 0 : _root$current.render( /*#__PURE__*/React.createElement(\"div\", {\r\n        ref: transformOuterRef,\r\n        style: styles\r\n      }, /*#__PURE__*/React.createElement(\"div\", {\r\n        ref: transformInnerRef,\r\n        style: transformInnerStyles\r\n      }, /*#__PURE__*/React.createElement(\"div\", {\r\n        ref: ref,\r\n        className: className,\r\n        style: style,\r\n        children: children\r\n      }))));\r\n    } else {\r\n      var _root$current2;\r\n\r\n      (_root$current2 = root.current) == null ? void 0 : _root$current2.render( /*#__PURE__*/React.createElement(\"div\", {\r\n        ref: ref,\r\n        style: styles,\r\n        className: className,\r\n        children: children\r\n      }));\r\n    }\r\n  });\r\n  const visible = React.useRef(true);\r\n  useFrame(() => {\r\n    if (group.current) {\r\n      camera.updateMatrixWorld();\r\n      group.current.updateWorldMatrix(true, false);\r\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\r\n\r\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\r\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\r\n        let raytraceTarget = false;\r\n\r\n        if (typeof occlude === 'boolean') {\r\n          if (occlude === true) {\r\n            raytraceTarget = [scene];\r\n          }\r\n        } else if (Array.isArray(occlude)) {\r\n          raytraceTarget = occlude.map(item => item.current);\r\n        }\r\n\r\n        const previouslyVisible = visible.current;\r\n\r\n        if (raytraceTarget) {\r\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\r\n          visible.current = isvisible && !isBehindCamera;\r\n        } else {\r\n          visible.current = !isBehindCamera;\r\n        }\r\n\r\n        if (previouslyVisible !== visible.current) {\r\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\r\n        }\r\n\r\n        el.style.zIndex = `${objectZIndex(group.current, camera, zIndexRange)}`;\r\n\r\n        if (transform) {\r\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\r\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\r\n          const {\r\n            isOrthographicCamera,\r\n            top,\r\n            left,\r\n            bottom,\r\n            right\r\n          } = camera;\r\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\r\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\r\n          let matrix = group.current.matrixWorld;\r\n\r\n          if (sprite) {\r\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\r\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\r\n            matrix.elements[15] = 1;\r\n          }\r\n\r\n          el.style.width = size.width + 'px';\r\n          el.style.height = size.height + 'px';\r\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\r\n\r\n          if (transformOuterRef.current && transformInnerRef.current) {\r\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\r\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\r\n          }\r\n        } else {\r\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\r\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\r\n        }\r\n\r\n        oldPosition.current = vec;\r\n        oldZoom.current = camera.zoom;\r\n      }\r\n    }\r\n  });\r\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\r\n    ref: group\r\n  }));\r\n});\r\n\r\nexport { Html };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}