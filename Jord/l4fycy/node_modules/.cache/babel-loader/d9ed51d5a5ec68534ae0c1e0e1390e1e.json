{"ast":null,"code":"import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './useFBO.js';\n\nfunction useDepthBuffer() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 256 : _ref$size,\n      _ref$frames = _ref.frames,\n      frames = _ref$frames === void 0 ? Infinity : _ref$frames;\n\n  var dpr = useThree(function (state) {\n    return state.viewport.dpr;\n  });\n\n  var _useThree = useThree(function (state) {\n    return state.size;\n  }),\n      width = _useThree.width,\n      height = _useThree.height;\n\n  var w = size || width * dpr;\n  var h = size || height * dpr;\n  var depthConfig = React.useMemo(function () {\n    var depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture: depthTexture\n    };\n  }, [w, h]);\n  var count = 0;\n  var depthFBO = useFBO(w, h, depthConfig);\n  useFrame(function (state) {\n    if (frames === Infinity || count < frames) {\n      state.gl.setRenderTarget(depthFBO);\n      state.gl.render(state.scene, state.camera);\n      state.gl.setRenderTarget(null);\n      count++;\n    }\n  });\n  return depthFBO.depthTexture;\n}\n\nexport { useDepthBuffer };","map":{"version":3,"names":["DepthTexture","DepthFormat","UnsignedShortType","React","useThree","useFrame","useFBO","useDepthBuffer","size","frames","Infinity","dpr","state","viewport","width","height","w","h","depthConfig","useMemo","depthTexture","format","type","count","depthFBO","gl","setRenderTarget","render","scene","camera"],"sources":["D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@react-three/drei/core/useDepthBuffer.js"],"sourcesContent":["import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\r\nimport * as React from 'react';\r\nimport { useThree, useFrame } from '@react-three/fiber';\r\nimport { useFBO } from './useFBO.js';\r\n\r\nfunction useDepthBuffer({\r\n  size = 256,\r\n  frames = Infinity\r\n} = {}) {\r\n  const dpr = useThree(state => state.viewport.dpr);\r\n  const {\r\n    width,\r\n    height\r\n  } = useThree(state => state.size);\r\n  const w = size || width * dpr;\r\n  const h = size || height * dpr;\r\n  const depthConfig = React.useMemo(() => {\r\n    const depthTexture = new DepthTexture(w, h);\r\n    depthTexture.format = DepthFormat;\r\n    depthTexture.type = UnsignedShortType;\r\n    return {\r\n      depthTexture\r\n    };\r\n  }, [w, h]);\r\n  let count = 0;\r\n  const depthFBO = useFBO(w, h, depthConfig);\r\n  useFrame(state => {\r\n    if (frames === Infinity || count < frames) {\r\n      state.gl.setRenderTarget(depthFBO);\r\n      state.gl.render(state.scene, state.camera);\r\n      state.gl.setRenderTarget(null);\r\n      count++;\r\n    }\r\n  });\r\n  return depthFBO.depthTexture;\r\n}\r\n\r\nexport { useDepthBuffer };\r\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,WAAvB,EAAoCC,iBAApC,QAA6D,OAA7D;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,oBAAnC;AACA,SAASC,MAAT,QAAuB,aAAvB;;AAEA,SAASC,cAAT,GAGQ;EAAA,+EAAJ,EAAI;EAAA,qBAFNC,IAEM;EAAA,IAFNA,IAEM,0BAFC,GAED;EAAA,uBADNC,MACM;EAAA,IADNA,MACM,4BADGC,QACH;;EACN,IAAMC,GAAG,GAAGP,QAAQ,CAAC,UAAAQ,KAAK;IAAA,OAAIA,KAAK,CAACC,QAAN,CAAeF,GAAnB;EAAA,CAAN,CAApB;;EACA,gBAGIP,QAAQ,CAAC,UAAAQ,KAAK;IAAA,OAAIA,KAAK,CAACJ,IAAV;EAAA,CAAN,CAHZ;EAAA,IACEM,KADF,aACEA,KADF;EAAA,IAEEC,MAFF,aAEEA,MAFF;;EAIA,IAAMC,CAAC,GAAGR,IAAI,IAAIM,KAAK,GAAGH,GAA1B;EACA,IAAMM,CAAC,GAAGT,IAAI,IAAIO,MAAM,GAAGJ,GAA3B;EACA,IAAMO,WAAW,GAAGf,KAAK,CAACgB,OAAN,CAAc,YAAM;IACtC,IAAMC,YAAY,GAAG,IAAIpB,YAAJ,CAAiBgB,CAAjB,EAAoBC,CAApB,CAArB;IACAG,YAAY,CAACC,MAAb,GAAsBpB,WAAtB;IACAmB,YAAY,CAACE,IAAb,GAAoBpB,iBAApB;IACA,OAAO;MACLkB,YAAY,EAAZA;IADK,CAAP;EAGD,CAPmB,EAOjB,CAACJ,CAAD,EAAIC,CAAJ,CAPiB,CAApB;EAQA,IAAIM,KAAK,GAAG,CAAZ;EACA,IAAMC,QAAQ,GAAGlB,MAAM,CAACU,CAAD,EAAIC,CAAJ,EAAOC,WAAP,CAAvB;EACAb,QAAQ,CAAC,UAAAO,KAAK,EAAI;IAChB,IAAIH,MAAM,KAAKC,QAAX,IAAuBa,KAAK,GAAGd,MAAnC,EAA2C;MACzCG,KAAK,CAACa,EAAN,CAASC,eAAT,CAAyBF,QAAzB;MACAZ,KAAK,CAACa,EAAN,CAASE,MAAT,CAAgBf,KAAK,CAACgB,KAAtB,EAA6BhB,KAAK,CAACiB,MAAnC;MACAjB,KAAK,CAACa,EAAN,CAASC,eAAT,CAAyB,IAAzB;MACAH,KAAK;IACN;EACF,CAPO,CAAR;EAQA,OAAOC,QAAQ,CAACJ,YAAhB;AACD;;AAED,SAASb,cAAT"},"metadata":{},"sourceType":"module"}