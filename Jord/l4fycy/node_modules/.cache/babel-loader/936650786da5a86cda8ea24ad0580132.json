{"ast":null,"code":"import _classCallCheck from \"C:/Users/Arnav/Downloads/l4fycy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Arnav/Downloads/l4fycy/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Arnav/Downloads/l4fycy/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Arnav/Downloads/l4fycy/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nvar ReferenceNode = /*#__PURE__*/function (_Node) {\n  _inherits(ReferenceNode, _Node);\n\n  var _super = _createSuper(ReferenceNode);\n\n  function ReferenceNode(property, uniformType) {\n    var _this;\n\n    var object = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, ReferenceNode);\n\n    _this = _super.call(this);\n    _this.property = property;\n    _this.uniformType = uniformType;\n    _this.object = object;\n    _this.node = null;\n    _this.updateType = NodeUpdateType.Object;\n\n    _this.setNodeType(uniformType);\n\n    return _this;\n  }\n\n  _createClass(ReferenceNode, [{\n    key: \"setNodeType\",\n    value: function setNodeType(uniformType) {\n      this.node = new UniformNode(null, uniformType);\n      this.nodeType = uniformType;\n\n      if (uniformType === 'color') {\n        this.nodeType = 'vec3';\n      } else if (uniformType === 'texture') {\n        this.nodeType = 'vec4';\n      }\n    }\n  }, {\n    key: \"getNodeType\",\n    value: function getNodeType() {\n      return this.uniformType;\n    }\n  }, {\n    key: \"update\",\n    value: function update(frame) {\n      var object = this.object !== null ? this.object : frame.object;\n      var value = object[this.property];\n      this.node.value = value;\n    }\n  }, {\n    key: \"generate\",\n    value: function generate(builder) {\n      return this.node.build(builder, this.getNodeType(builder));\n    }\n  }]);\n\n  return ReferenceNode;\n}(Node);\n\nexport default ReferenceNode;","map":{"version":3,"names":["Node","UniformNode","NodeUpdateType","ReferenceNode","property","uniformType","object","node","updateType","Object","setNodeType","nodeType","frame","value","builder","build","getNodeType"],"sources":["C:/Users/Arnav/Downloads/l4fycy/node_modules/three-stdlib/nodes/accessors/ReferenceNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport UniformNode from '../core/UniformNode.js';\nimport { NodeUpdateType } from '../core/constants.js';\n\nclass ReferenceNode extends Node {\n  constructor(property, uniformType, object = null) {\n    super();\n    this.property = property;\n    this.uniformType = uniformType;\n    this.object = object;\n    this.node = null;\n    this.updateType = NodeUpdateType.Object;\n    this.setNodeType(uniformType);\n  }\n\n  setNodeType(uniformType) {\n    this.node = new UniformNode(null, uniformType);\n    this.nodeType = uniformType;\n\n    if (uniformType === 'color') {\n      this.nodeType = 'vec3';\n    } else if (uniformType === 'texture') {\n      this.nodeType = 'vec4';\n    }\n  }\n\n  getNodeType() {\n    return this.uniformType;\n  }\n\n  update(frame) {\n    const object = this.object !== null ? this.object : frame.object;\n    const value = object[this.property];\n    this.node.value = value;\n  }\n\n  generate(builder) {\n    return this.node.build(builder, this.getNodeType(builder));\n  }\n\n}\n\nexport default ReferenceNode;\n"],"mappings":";;;;AAAA,OAAOA,IAAP,MAAiB,iBAAjB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,cAAT,QAA+B,sBAA/B;;IAEMC,a;;;;;EACJ,uBAAYC,QAAZ,EAAsBC,WAAtB,EAAkD;IAAA;;IAAA,IAAfC,MAAe,uEAAN,IAAM;;IAAA;;IAChD;IACA,MAAKF,QAAL,GAAgBA,QAAhB;IACA,MAAKC,WAAL,GAAmBA,WAAnB;IACA,MAAKC,MAAL,GAAcA,MAAd;IACA,MAAKC,IAAL,GAAY,IAAZ;IACA,MAAKC,UAAL,GAAkBN,cAAc,CAACO,MAAjC;;IACA,MAAKC,WAAL,CAAiBL,WAAjB;;IAPgD;EAQjD;;;;WAED,qBAAYA,WAAZ,EAAyB;MACvB,KAAKE,IAAL,GAAY,IAAIN,WAAJ,CAAgB,IAAhB,EAAsBI,WAAtB,CAAZ;MACA,KAAKM,QAAL,GAAgBN,WAAhB;;MAEA,IAAIA,WAAW,KAAK,OAApB,EAA6B;QAC3B,KAAKM,QAAL,GAAgB,MAAhB;MACD,CAFD,MAEO,IAAIN,WAAW,KAAK,SAApB,EAA+B;QACpC,KAAKM,QAAL,GAAgB,MAAhB;MACD;IACF;;;WAED,uBAAc;MACZ,OAAO,KAAKN,WAAZ;IACD;;;WAED,gBAAOO,KAAP,EAAc;MACZ,IAAMN,MAAM,GAAG,KAAKA,MAAL,KAAgB,IAAhB,GAAuB,KAAKA,MAA5B,GAAqCM,KAAK,CAACN,MAA1D;MACA,IAAMO,KAAK,GAAGP,MAAM,CAAC,KAAKF,QAAN,CAApB;MACA,KAAKG,IAAL,CAAUM,KAAV,GAAkBA,KAAlB;IACD;;;WAED,kBAASC,OAAT,EAAkB;MAChB,OAAO,KAAKP,IAAL,CAAUQ,KAAV,CAAgBD,OAAhB,EAAyB,KAAKE,WAAL,CAAiBF,OAAjB,CAAzB,CAAP;IACD;;;;EAlCyBd,I;;AAsC5B,eAAeG,aAAf"},"metadata":{},"sourceType":"module"}