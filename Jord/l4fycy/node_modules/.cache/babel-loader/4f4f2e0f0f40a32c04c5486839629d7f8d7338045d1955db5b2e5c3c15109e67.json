{"ast":null,"code":"import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { useFBO } from './useFBO.js';\nfunction useDepthBuffer() {\n  let {\n    size = 256,\n    frames = Infinity\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const dpr = useThree(state => state.viewport.dpr);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const w = size || width * dpr;\n  const h = size || height * dpr;\n  const depthConfig = React.useMemo(() => {\n    const depthTexture = new DepthTexture(w, h);\n    depthTexture.format = DepthFormat;\n    depthTexture.type = UnsignedShortType;\n    return {\n      depthTexture\n    };\n  }, [w, h]);\n  let count = 0;\n  const depthFBO = useFBO(w, h, depthConfig);\n  useFrame(state => {\n    if (frames === Infinity || count < frames) {\n      state.gl.setRenderTarget(depthFBO);\n      state.gl.render(state.scene, state.camera);\n      state.gl.setRenderTarget(null);\n      count++;\n    }\n  });\n  return depthFBO.depthTexture;\n}\nexport { useDepthBuffer };","map":{"version":3,"names":["DepthTexture","DepthFormat","UnsignedShortType","React","useThree","useFrame","useFBO","useDepthBuffer","size","frames","Infinity","arguments","length","undefined","dpr","state","viewport","width","height","w","h","depthConfig","useMemo","depthTexture","format","type","count","depthFBO","gl","setRenderTarget","render","scene","camera"],"sources":["D:/Repos/NIKE-DJANGO/Jord/l4fycy/node_modules/@react-three/drei/core/useDepthBuffer.js"],"sourcesContent":["import { DepthTexture, DepthFormat, UnsignedShortType } from 'three';\r\nimport * as React from 'react';\r\nimport { useThree, useFrame } from '@react-three/fiber';\r\nimport { useFBO } from './useFBO.js';\r\n\r\nfunction useDepthBuffer({\r\n  size = 256,\r\n  frames = Infinity\r\n} = {}) {\r\n  const dpr = useThree(state => state.viewport.dpr);\r\n  const {\r\n    width,\r\n    height\r\n  } = useThree(state => state.size);\r\n  const w = size || width * dpr;\r\n  const h = size || height * dpr;\r\n  const depthConfig = React.useMemo(() => {\r\n    const depthTexture = new DepthTexture(w, h);\r\n    depthTexture.format = DepthFormat;\r\n    depthTexture.type = UnsignedShortType;\r\n    return {\r\n      depthTexture\r\n    };\r\n  }, [w, h]);\r\n  let count = 0;\r\n  const depthFBO = useFBO(w, h, depthConfig);\r\n  useFrame(state => {\r\n    if (frames === Infinity || count < frames) {\r\n      state.gl.setRenderTarget(depthFBO);\r\n      state.gl.render(state.scene, state.camera);\r\n      state.gl.setRenderTarget(null);\r\n      count++;\r\n    }\r\n  });\r\n  return depthFBO.depthTexture;\r\n}\r\n\r\nexport { useDepthBuffer };\r\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,WAAW,EAAEC,iBAAiB,QAAQ,OAAO;AACpE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AACvD,SAASC,MAAM,QAAQ,aAAa;AAEpC,SAASC,cAAcA,CAAA,EAGf;EAAA,IAHgB;IACtBC,IAAI,GAAG,GAAG;IACVC,MAAM,GAAGC;EACX,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACJ,MAAMG,GAAG,GAAGV,QAAQ,CAACW,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAACF,GAAG,CAAC;EACjD,MAAM;IACJG,KAAK;IACLC;EACF,CAAC,GAAGd,QAAQ,CAACW,KAAK,IAAIA,KAAK,CAACP,IAAI,CAAC;EACjC,MAAMW,CAAC,GAAGX,IAAI,IAAIS,KAAK,GAAGH,GAAG;EAC7B,MAAMM,CAAC,GAAGZ,IAAI,IAAIU,MAAM,GAAGJ,GAAG;EAC9B,MAAMO,WAAW,GAAGlB,KAAK,CAACmB,OAAO,CAAC,MAAM;IACtC,MAAMC,YAAY,GAAG,IAAIvB,YAAY,CAACmB,CAAC,EAAEC,CAAC,CAAC;IAC3CG,YAAY,CAACC,MAAM,GAAGvB,WAAW;IACjCsB,YAAY,CAACE,IAAI,GAAGvB,iBAAiB;IACrC,OAAO;MACLqB;IACF,CAAC;EACH,CAAC,EAAE,CAACJ,CAAC,EAAEC,CAAC,CAAC,CAAC;EACV,IAAIM,KAAK,GAAG,CAAC;EACb,MAAMC,QAAQ,GAAGrB,MAAM,CAACa,CAAC,EAAEC,CAAC,EAAEC,WAAW,CAAC;EAC1ChB,QAAQ,CAACU,KAAK,IAAI;IAChB,IAAIN,MAAM,KAAKC,QAAQ,IAAIgB,KAAK,GAAGjB,MAAM,EAAE;MACzCM,KAAK,CAACa,EAAE,CAACC,eAAe,CAACF,QAAQ,CAAC;MAClCZ,KAAK,CAACa,EAAE,CAACE,MAAM,CAACf,KAAK,CAACgB,KAAK,EAAEhB,KAAK,CAACiB,MAAM,CAAC;MAC1CjB,KAAK,CAACa,EAAE,CAACC,eAAe,CAAC,IAAI,CAAC;MAC9BH,KAAK,EAAE;IACT;EACF,CAAC,CAAC;EACF,OAAOC,QAAQ,CAACJ,YAAY;AAC9B;AAEA,SAAShB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}