{"ast":null,"code":"import _classCallCheck from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { GLTFLoader } from '../loaders/GLTFLoader.js';\nvar DEFAULT_HAND_PROFILE_PATH = 'https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/';\n\nvar XRHandMeshModel = /*#__PURE__*/function () {\n  function XRHandMeshModel(handModel, controller) {\n    var _this = this;\n\n    var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_HAND_PROFILE_PATH;\n    var handedness = arguments.length > 3 ? arguments[3] : undefined;\n    var customModelPath = arguments.length > 4 ? arguments[4] : undefined;\n\n    _classCallCheck(this, XRHandMeshModel);\n\n    _defineProperty(this, \"controller\", void 0);\n\n    _defineProperty(this, \"handModel\", void 0);\n\n    _defineProperty(this, \"bones\", void 0);\n\n    this.controller = controller;\n    this.handModel = handModel;\n    this.bones = [];\n    var loader = new GLTFLoader();\n    if (!customModelPath) loader.setPath(path);\n    loader.load(customModelPath != null ? customModelPath : \"\".concat(handedness, \".glb\"), function (gltf) {\n      var object = gltf.scene.children[0];\n\n      _this.handModel.add(object);\n\n      var mesh = object.getObjectByProperty('type', 'SkinnedMesh');\n      mesh.frustumCulled = false;\n      mesh.castShadow = true;\n      mesh.receiveShadow = true;\n      var joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\n      joints.forEach(function (jointName) {\n        var bone = object.getObjectByName(jointName);\n\n        if (bone !== undefined) {\n          bone.jointName = jointName;\n        } else {\n          console.warn(\"Couldn't find \".concat(jointName, \" in \").concat(handedness, \" hand mesh\"));\n        }\n\n        _this.bones.push(bone);\n      });\n    });\n  }\n\n  _createClass(XRHandMeshModel, [{\n    key: \"updateMesh\",\n    value: function updateMesh() {\n      // XR Joints\n      var XRJoints = this.controller.joints;\n\n      for (var i = 0; i < this.bones.length; i++) {\n        var bone = this.bones[i];\n\n        if (bone) {\n          var XRJoint = XRJoints[bone.jointName];\n\n          if (XRJoint.visible) {\n            var position = XRJoint.position;\n            bone.position.copy(position);\n            bone.quaternion.copy(XRJoint.quaternion); // bone.scale.setScalar( XRJoint.jointRadius || defaultRadius );\n          }\n        }\n      }\n    }\n  }]);\n\n  return XRHandMeshModel;\n}();\n\nexport { XRHandMeshModel };","map":{"version":3,"names":["_defineProperty","GLTFLoader","DEFAULT_HAND_PROFILE_PATH","XRHandMeshModel","handModel","controller","path","handedness","customModelPath","bones","loader","setPath","load","gltf","object","scene","children","add","mesh","getObjectByProperty","frustumCulled","castShadow","receiveShadow","joints","forEach","jointName","bone","getObjectByName","undefined","console","warn","push","XRJoints","i","length","XRJoint","visible","position","copy","quaternion"],"sources":["D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/three-stdlib/webxr/XRHandMeshModel.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\r\nimport { GLTFLoader } from '../loaders/GLTFLoader.js';\r\n\r\nconst DEFAULT_HAND_PROFILE_PATH = 'https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/generic-hand/';\r\n\r\nclass XRHandMeshModel {\r\n  constructor(handModel, controller, path = DEFAULT_HAND_PROFILE_PATH, handedness, customModelPath) {\r\n    _defineProperty(this, \"controller\", void 0);\r\n\r\n    _defineProperty(this, \"handModel\", void 0);\r\n\r\n    _defineProperty(this, \"bones\", void 0);\r\n\r\n    this.controller = controller;\r\n    this.handModel = handModel;\r\n    this.bones = [];\r\n    const loader = new GLTFLoader();\r\n    if (!customModelPath) loader.setPath(path);\r\n    loader.load(customModelPath != null ? customModelPath : `${handedness}.glb`, gltf => {\r\n      const object = gltf.scene.children[0];\r\n      this.handModel.add(object);\r\n      const mesh = object.getObjectByProperty('type', 'SkinnedMesh');\r\n      mesh.frustumCulled = false;\r\n      mesh.castShadow = true;\r\n      mesh.receiveShadow = true;\r\n      const joints = ['wrist', 'thumb-metacarpal', 'thumb-phalanx-proximal', 'thumb-phalanx-distal', 'thumb-tip', 'index-finger-metacarpal', 'index-finger-phalanx-proximal', 'index-finger-phalanx-intermediate', 'index-finger-phalanx-distal', 'index-finger-tip', 'middle-finger-metacarpal', 'middle-finger-phalanx-proximal', 'middle-finger-phalanx-intermediate', 'middle-finger-phalanx-distal', 'middle-finger-tip', 'ring-finger-metacarpal', 'ring-finger-phalanx-proximal', 'ring-finger-phalanx-intermediate', 'ring-finger-phalanx-distal', 'ring-finger-tip', 'pinky-finger-metacarpal', 'pinky-finger-phalanx-proximal', 'pinky-finger-phalanx-intermediate', 'pinky-finger-phalanx-distal', 'pinky-finger-tip'];\r\n      joints.forEach(jointName => {\r\n        const bone = object.getObjectByName(jointName);\r\n\r\n        if (bone !== undefined) {\r\n          bone.jointName = jointName;\r\n        } else {\r\n          console.warn(`Couldn't find ${jointName} in ${handedness} hand mesh`);\r\n        }\r\n\r\n        this.bones.push(bone);\r\n      });\r\n    });\r\n  }\r\n\r\n  updateMesh() {\r\n    // XR Joints\r\n    const XRJoints = this.controller.joints;\r\n\r\n    for (let i = 0; i < this.bones.length; i++) {\r\n      const bone = this.bones[i];\r\n\r\n      if (bone) {\r\n        const XRJoint = XRJoints[bone.jointName];\r\n\r\n        if (XRJoint.visible) {\r\n          const position = XRJoint.position;\r\n          bone.position.copy(position);\r\n          bone.quaternion.copy(XRJoint.quaternion); // bone.scale.setScalar( XRJoint.jointRadius || defaultRadius );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport { XRHandMeshModel };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}