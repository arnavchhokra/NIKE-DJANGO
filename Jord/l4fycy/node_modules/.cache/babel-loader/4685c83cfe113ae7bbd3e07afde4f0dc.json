{"ast":null,"code":"import _objectWithoutProperties from \"D:/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"noise\", \"count\", \"speed\", \"opacity\", \"scale\", \"size\", \"color\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport fragShader from '../helpers/glsl/Sparkles.frag.glsl.js';\nimport vertShader from '../helpers/glsl/Sparkles.vert.glsl.js';\nimport { shaderMaterial } from './shaderMaterial.js';\nvar SparklesMaterial = shaderMaterial({\n  time: 0,\n  pixelRatio: 1\n}, vertShader, fragShader);\n\nvar isFloat32Array = function isFloat32Array(def) {\n  return def && def.constructor === Float32Array;\n};\n\nvar expandColor = function expandColor(v) {\n  return [v.r, v.g, v.b];\n};\n\nvar isVector = function isVector(v) {\n  return v instanceof THREE.Vector2 || v instanceof THREE.Vector3 || v instanceof THREE.Vector4;\n};\n\nvar normalizeVector = function normalizeVector(v) {\n  if (Array.isArray(v)) return v;else if (isVector(v)) return v.toArray();\n  return [v, v, v];\n};\n\nfunction usePropAsIsOrAsAttribute(count, prop, setDefault) {\n  return React.useMemo(function () {\n    if (prop !== undefined) {\n      if (isFloat32Array(prop)) {\n        return prop;\n      } else {\n        if (prop instanceof THREE.Color) {\n          var a = Array.from({\n            length: count * 3\n          }, function () {\n            return expandColor(prop);\n          }).flat();\n          return Float32Array.from(a);\n        } else if (isVector(prop) || Array.isArray(prop)) {\n          var _a = Array.from({\n            length: count * 3\n          }, function () {\n            return normalizeVector(prop);\n          }).flat();\n\n          return Float32Array.from(_a);\n        }\n\n        return Float32Array.from({\n          length: count\n        }, function () {\n          return prop;\n        });\n      }\n    }\n\n    return Float32Array.from({\n      length: count\n    }, setDefault);\n  }, [prop]);\n}\n\nvar Sparkles = /*#__PURE__*/React.forwardRef(function (_ref, forwardRef) {\n  var _ref$noise = _ref.noise,\n      noise = _ref$noise === void 0 ? 1 : _ref$noise,\n      _ref$count = _ref.count,\n      count = _ref$count === void 0 ? 100 : _ref$count,\n      _ref$speed = _ref.speed,\n      speed = _ref$speed === void 0 ? 1 : _ref$speed,\n      _ref$opacity = _ref.opacity,\n      opacity = _ref$opacity === void 0 ? 1 : _ref$opacity,\n      _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 1 : _ref$scale,\n      size = _ref.size,\n      color = _ref.color,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  React.useMemo(function () {\n    return extend({\n      SparklesMaterial: SparklesMaterial\n    });\n  }, []);\n  var matRef = React.useRef();\n  var dpr = useThree(function (state) {\n    return state.viewport.dpr;\n  });\n  var positions = React.useMemo(function () {\n    return Float32Array.from(Array.from({\n      length: count\n    }, function () {\n      return normalizeVector(scale).map(THREE.MathUtils.randFloatSpread);\n    }).flat());\n  }, [count, scale]);\n  var sizes = usePropAsIsOrAsAttribute(count, size, Math.random);\n  var opacities = usePropAsIsOrAsAttribute(count, opacity);\n  var speeds = usePropAsIsOrAsAttribute(count, speed);\n  var noises = usePropAsIsOrAsAttribute(count * 3, noise);\n  var colors = usePropAsIsOrAsAttribute(color === undefined ? count * 3 : count, !isFloat32Array(color) ? new THREE.Color(color) : color, function () {\n    return 1;\n  });\n  useFrame(function (state) {\n    return matRef.current.uniforms.time.value = state.clock.elapsedTime;\n  });\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    key: \"particle-\".concat(count, \"-\").concat(JSON.stringify(scale))\n  }, props, {\n    ref: forwardRef\n  }), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [positions, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [sizes, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-opacity\",\n    args: [opacities, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-speed\",\n    args: [speeds, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [colors, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-noise\",\n    args: [noises, 3]\n  })), /*#__PURE__*/React.createElement(\"sparklesMaterial\", {\n    ref: matRef,\n    transparent: true,\n    pixelRatio: dpr,\n    depthWrite: false\n  }));\n});\nexport { Sparkles };","map":{"version":3,"names":["_extends","React","THREE","extend","useThree","useFrame","fragShader","vertShader","shaderMaterial","SparklesMaterial","time","pixelRatio","isFloat32Array","def","constructor","Float32Array","expandColor","v","r","g","b","isVector","Vector2","Vector3","Vector4","normalizeVector","Array","isArray","toArray","usePropAsIsOrAsAttribute","count","prop","setDefault","useMemo","undefined","Color","a","from","length","flat","Sparkles","forwardRef","noise","speed","opacity","scale","size","color","props","matRef","useRef","dpr","state","viewport","positions","map","MathUtils","randFloatSpread","sizes","Math","random","opacities","speeds","noises","colors","current","uniforms","value","clock","elapsedTime","createElement","key","JSON","stringify","ref","attach","args","transparent","depthWrite"],"sources":["D:/Jord/l4fycy/node_modules/@react-three/drei/core/Sparkles.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport fragShader from '../helpers/glsl/Sparkles.frag.glsl.js';\nimport vertShader from '../helpers/glsl/Sparkles.vert.glsl.js';\nimport { shaderMaterial } from './shaderMaterial.js';\n\nconst SparklesMaterial = shaderMaterial({\n  time: 0,\n  pixelRatio: 1\n}, vertShader, fragShader);\n\nconst isFloat32Array = def => def && def.constructor === Float32Array;\n\nconst expandColor = v => [v.r, v.g, v.b];\n\nconst isVector = v => v instanceof THREE.Vector2 || v instanceof THREE.Vector3 || v instanceof THREE.Vector4;\n\nconst normalizeVector = v => {\n  if (Array.isArray(v)) return v;else if (isVector(v)) return v.toArray();\n  return [v, v, v];\n};\n\nfunction usePropAsIsOrAsAttribute(count, prop, setDefault) {\n  return React.useMemo(() => {\n    if (prop !== undefined) {\n      if (isFloat32Array(prop)) {\n        return prop;\n      } else {\n        if (prop instanceof THREE.Color) {\n          const a = Array.from({\n            length: count * 3\n          }, () => expandColor(prop)).flat();\n          return Float32Array.from(a);\n        } else if (isVector(prop) || Array.isArray(prop)) {\n          const a = Array.from({\n            length: count * 3\n          }, () => normalizeVector(prop)).flat();\n          return Float32Array.from(a);\n        }\n\n        return Float32Array.from({\n          length: count\n        }, () => prop);\n      }\n    }\n\n    return Float32Array.from({\n      length: count\n    }, setDefault);\n  }, [prop]);\n}\n\nconst Sparkles = /*#__PURE__*/React.forwardRef(({\n  noise = 1,\n  count = 100,\n  speed = 1,\n  opacity = 1,\n  scale = 1,\n  size,\n  color,\n  ...props\n}, forwardRef) => {\n  React.useMemo(() => extend({\n    SparklesMaterial\n  }), []);\n  const matRef = React.useRef();\n  const dpr = useThree(state => state.viewport.dpr);\n  const positions = React.useMemo(() => Float32Array.from(Array.from({\n    length: count\n  }, () => normalizeVector(scale).map(THREE.MathUtils.randFloatSpread)).flat()), [count, scale]);\n  const sizes = usePropAsIsOrAsAttribute(count, size, Math.random);\n  const opacities = usePropAsIsOrAsAttribute(count, opacity);\n  const speeds = usePropAsIsOrAsAttribute(count, speed);\n  const noises = usePropAsIsOrAsAttribute(count * 3, noise);\n  const colors = usePropAsIsOrAsAttribute(color === undefined ? count * 3 : count, !isFloat32Array(color) ? new THREE.Color(color) : color, () => 1);\n  useFrame(state => matRef.current.uniforms.time.value = state.clock.elapsedTime);\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    key: `particle-${count}-${JSON.stringify(scale)}`\n  }, props, {\n    ref: forwardRef\n  }), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [positions, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [sizes, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-opacity\",\n    args: [opacities, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-speed\",\n    args: [speeds, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [colors, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-noise\",\n    args: [noises, 3]\n  })), /*#__PURE__*/React.createElement(\"sparklesMaterial\", {\n    ref: matRef,\n    transparent: true,\n    pixelRatio: dpr,\n    depthWrite: false\n  }));\n});\n\nexport { Sparkles };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}