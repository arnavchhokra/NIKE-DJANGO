{"ast":null,"code":"import _classCallCheck from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Vector4 } from 'three';\nimport { calcSurfacePoint } from './NURBSUtils.js';\n/**\r\n * NURBS surface object\r\n *\r\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\r\n **/\n\nvar NURBSSurface = /*#__PURE__*/function () {\n  function NURBSSurface(degree1, degree2, knots1, knots2\n  /* arrays of reals */\n  , controlPoints\n  /* array^2 of Vector(2|3|4) */\n  ) {\n    _classCallCheck(this, NURBSSurface);\n\n    this.degree1 = degree1;\n    this.degree2 = degree2;\n    this.knots1 = knots1;\n    this.knots2 = knots2;\n    this.controlPoints = [];\n    var len1 = knots1.length - degree1 - 1;\n    var len2 = knots2.length - degree2 - 1; // ensure Vector4 for control points\n\n    for (var i = 0; i < len1; ++i) {\n      this.controlPoints[i] = [];\n\n      for (var j = 0; j < len2; ++j) {\n        var point = controlPoints[i][j];\n        this.controlPoints[i][j] = new Vector4(point.x, point.y, point.z, point.w);\n      }\n    }\n  }\n\n  _createClass(NURBSSurface, [{\n    key: \"getPoint\",\n    value: function getPoint(t1, t2, target) {\n      var u = this.knots1[0] + t1 * (this.knots1[this.knots1.length - 1] - this.knots1[0]); // linear mapping t1->u\n\n      var v = this.knots2[0] + t2 * (this.knots2[this.knots2.length - 1] - this.knots2[0]); // linear mapping t2->u\n\n      calcSurfacePoint(this.degree1, this.degree2, this.knots1, this.knots2, this.controlPoints, u, v, target);\n    }\n  }]);\n\n  return NURBSSurface;\n}();\n\nexport { NURBSSurface };","map":{"version":3,"names":["Vector4","calcSurfacePoint","NURBSSurface","degree1","degree2","knots1","knots2","controlPoints","len1","length","len2","i","j","point","x","y","z","w","t1","t2","target","u","v"],"sources":["D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/three-stdlib/curves/NURBSSurface.js"],"sourcesContent":["import { Vector4 } from 'three';\r\nimport { calcSurfacePoint } from './NURBSUtils.js';\r\n\r\n/**\r\n * NURBS surface object\r\n *\r\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\r\n **/\r\n\r\nclass NURBSSurface {\r\n  constructor(degree1, degree2, knots1, knots2\r\n  /* arrays of reals */\r\n  , controlPoints\r\n  /* array^2 of Vector(2|3|4) */\r\n  ) {\r\n    this.degree1 = degree1;\r\n    this.degree2 = degree2;\r\n    this.knots1 = knots1;\r\n    this.knots2 = knots2;\r\n    this.controlPoints = [];\r\n    const len1 = knots1.length - degree1 - 1;\r\n    const len2 = knots2.length - degree2 - 1; // ensure Vector4 for control points\r\n\r\n    for (let i = 0; i < len1; ++i) {\r\n      this.controlPoints[i] = [];\r\n\r\n      for (let j = 0; j < len2; ++j) {\r\n        const point = controlPoints[i][j];\r\n        this.controlPoints[i][j] = new Vector4(point.x, point.y, point.z, point.w);\r\n      }\r\n    }\r\n  }\r\n\r\n  getPoint(t1, t2, target) {\r\n    const u = this.knots1[0] + t1 * (this.knots1[this.knots1.length - 1] - this.knots1[0]); // linear mapping t1->u\r\n\r\n    const v = this.knots2[0] + t2 * (this.knots2[this.knots2.length - 1] - this.knots2[0]); // linear mapping t2->u\r\n\r\n    calcSurfacePoint(this.degree1, this.degree2, this.knots1, this.knots2, this.controlPoints, u, v, target);\r\n  }\r\n\r\n}\r\n\r\nexport { NURBSSurface };\r\n"],"mappings":";;AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,gBAAT,QAAiC,iBAAjC;AAEA;AACA;AACA;AACA;AACA;;IAEMC,Y;EACJ,sBAAYC,OAAZ,EAAqBC,OAArB,EAA8BC,MAA9B,EAAsCC;EACtC;EADA,EAEEC;EACF;EAHA,EAIE;IAAA;;IACA,KAAKJ,OAAL,GAAeA,OAAf;IACA,KAAKC,OAAL,GAAeA,OAAf;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAKC,aAAL,GAAqB,EAArB;IACA,IAAMC,IAAI,GAAGH,MAAM,CAACI,MAAP,GAAgBN,OAAhB,GAA0B,CAAvC;IACA,IAAMO,IAAI,GAAGJ,MAAM,CAACG,MAAP,GAAgBL,OAAhB,GAA0B,CAAvC,CAPA,CAO0C;;IAE1C,KAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAApB,EAA0B,EAAEG,CAA5B,EAA+B;MAC7B,KAAKJ,aAAL,CAAmBI,CAAnB,IAAwB,EAAxB;;MAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAApB,EAA0B,EAAEE,CAA5B,EAA+B;QAC7B,IAAMC,KAAK,GAAGN,aAAa,CAACI,CAAD,CAAb,CAAiBC,CAAjB,CAAd;QACA,KAAKL,aAAL,CAAmBI,CAAnB,EAAsBC,CAAtB,IAA2B,IAAIZ,OAAJ,CAAYa,KAAK,CAACC,CAAlB,EAAqBD,KAAK,CAACE,CAA3B,EAA8BF,KAAK,CAACG,CAApC,EAAuCH,KAAK,CAACI,CAA7C,CAA3B;MACD;IACF;EACF;;;;WAED,kBAASC,EAAT,EAAaC,EAAb,EAAiBC,MAAjB,EAAyB;MACvB,IAAMC,CAAC,GAAG,KAAKhB,MAAL,CAAY,CAAZ,IAAiBa,EAAE,IAAI,KAAKb,MAAL,CAAY,KAAKA,MAAL,CAAYI,MAAZ,GAAqB,CAAjC,IAAsC,KAAKJ,MAAL,CAAY,CAAZ,CAA1C,CAA7B,CADuB,CACiE;;MAExF,IAAMiB,CAAC,GAAG,KAAKhB,MAAL,CAAY,CAAZ,IAAiBa,EAAE,IAAI,KAAKb,MAAL,CAAY,KAAKA,MAAL,CAAYG,MAAZ,GAAqB,CAAjC,IAAsC,KAAKH,MAAL,CAAY,CAAZ,CAA1C,CAA7B,CAHuB,CAGiE;;MAExFL,gBAAgB,CAAC,KAAKE,OAAN,EAAe,KAAKC,OAApB,EAA6B,KAAKC,MAAlC,EAA0C,KAAKC,MAA/C,EAAuD,KAAKC,aAA5D,EAA2Ec,CAA3E,EAA8EC,CAA9E,EAAiFF,MAAjF,CAAhB;IACD;;;;;;AAIH,SAASlB,YAAT"},"metadata":{},"sourceType":"module"}