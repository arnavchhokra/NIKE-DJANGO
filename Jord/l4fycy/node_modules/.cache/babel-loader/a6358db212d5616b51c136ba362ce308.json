{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContentAssist = void 0;\n\nvar interpreter_1 = require(\"../../grammar/interpreter\");\n\nvar first_1 = __importDefault(require(\"lodash/first\"));\n\nvar isUndefined_1 = __importDefault(require(\"lodash/isUndefined\"));\n\nvar ContentAssist =\n/** @class */\nfunction () {\n  function ContentAssist() {}\n\n  ContentAssist.prototype.initContentAssist = function () {};\n\n  ContentAssist.prototype.computeContentAssist = function (startRuleName, precedingInput) {\n    var startRuleGast = this.gastProductionsCache[startRuleName];\n\n    if ((0, isUndefined_1.default)(startRuleGast)) {\n      throw Error(\"Rule ->\".concat(startRuleName, \"<- does not exist in this grammar.\"));\n    }\n\n    return (0, interpreter_1.nextPossibleTokensAfter)([startRuleGast], precedingInput, this.tokenMatcher, this.maxLookahead);\n  }; // TODO: should this be a member method or a utility? it does not have any state or usage of 'this'...\n  // TODO: should this be more explicitly part of the public API?\n\n\n  ContentAssist.prototype.getNextPossibleTokenTypes = function (grammarPath) {\n    var topRuleName = (0, first_1.default)(grammarPath.ruleStack);\n    var gastProductions = this.getGAstProductions();\n    var topProduction = gastProductions[topRuleName];\n    var nextPossibleTokenTypes = new interpreter_1.NextAfterTokenWalker(topProduction, grammarPath).startWalking();\n    return nextPossibleTokenTypes;\n  };\n\n  return ContentAssist;\n}();\n\nexports.ContentAssist = ContentAssist;","map":{"version":3,"mappings":";;;;;;;;;;;;;AAMA;;AAIA;;AACA;;AAGA;AAAA;AAAA;EAAA,0BAqCC;;EApCCA,yDAAsB,CAAtB;;EAEOA,+CAAP,UAEEC,aAFF,EAGEC,cAHF,EAG0B;IAExB,IAAMC,aAAa,GAAG,KAAKC,oBAAL,CAA0BH,aAA1B,CAAtB;;IAEA,IAAI,2BAAYE,aAAZ,CAAJ,EAAgC;MAC9B,MAAME,KAAK,CAAC,iBAAUJ,aAAV,EAAuB,oCAAvB,CAAD,CAAX;IACD;;IAED,OAAO,2CACL,CAACE,aAAD,CADK,EAELD,cAFK,EAGL,KAAKI,YAHA,EAIL,KAAKC,YAJA,CAAP;EAMD,CAjBM,CAHT,CAsBE;EACA;;;EACOP,oDAAP,UAEEQ,WAFF,EAEgC;IAE9B,IAAMC,WAAW,GAAG,qBAAMD,WAAW,CAACE,SAAlB,CAApB;IACA,IAAMC,eAAe,GAAG,KAAKC,kBAAL,EAAxB;IACA,IAAMC,aAAa,GAAGF,eAAe,CAACF,WAAD,CAArC;IACA,IAAMK,sBAAsB,GAAG,IAAIC,kCAAJ,CAC7BF,aAD6B,EAE7BL,WAF6B,EAG7BQ,YAH6B,EAA/B;IAIA,OAAOF,sBAAP;EACD,CAZM;;EAaT;AAAC,CArCD;;AAAaG","names":["ContentAssist","startRuleName","precedingInput","startRuleGast","gastProductionsCache","Error","tokenMatcher","maxLookahead","grammarPath","topRuleName","ruleStack","gastProductions","getGAstProductions","topProduction","nextPossibleTokenTypes","interpreter_1","startWalking","exports"],"sources":["D:\\Github\\NIKE-DJANGO\\Jord\\l4fycy\\node_modules\\chevrotain\\src\\parse\\parser\\traits\\context_assist.ts"],"sourcesContent":["import {\r\n  ISyntacticContentAssistPath,\r\n  IToken,\r\n  ITokenGrammarPath,\r\n  TokenType\r\n} from \"@chevrotain/types\"\r\nimport {\r\n  NextAfterTokenWalker,\r\n  nextPossibleTokensAfter\r\n} from \"../../grammar/interpreter\"\r\nimport first from \"lodash/first\"\r\nimport isUndefined from \"lodash/isUndefined\"\r\nimport { MixedInParser } from \"./parser_traits\"\r\n\r\nexport class ContentAssist {\r\n  initContentAssist() {}\r\n\r\n  public computeContentAssist(\r\n    this: MixedInParser,\r\n    startRuleName: string,\r\n    precedingInput: IToken[]\r\n  ): ISyntacticContentAssistPath[] {\r\n    const startRuleGast = this.gastProductionsCache[startRuleName]\r\n\r\n    if (isUndefined(startRuleGast)) {\r\n      throw Error(`Rule ->${startRuleName}<- does not exist in this grammar.`)\r\n    }\r\n\r\n    return nextPossibleTokensAfter(\r\n      [startRuleGast],\r\n      precedingInput,\r\n      this.tokenMatcher,\r\n      this.maxLookahead\r\n    )\r\n  }\r\n\r\n  // TODO: should this be a member method or a utility? it does not have any state or usage of 'this'...\r\n  // TODO: should this be more explicitly part of the public API?\r\n  public getNextPossibleTokenTypes(\r\n    this: MixedInParser,\r\n    grammarPath: ITokenGrammarPath\r\n  ): TokenType[] {\r\n    const topRuleName = first(grammarPath.ruleStack)!\r\n    const gastProductions = this.getGAstProductions()\r\n    const topProduction = gastProductions[topRuleName]\r\n    const nextPossibleTokenTypes = new NextAfterTokenWalker(\r\n      topProduction,\r\n      grammarPath\r\n    ).startWalking()\r\n    return nextPossibleTokenTypes\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}