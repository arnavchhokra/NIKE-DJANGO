{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"D:/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Loader, FileLoader, BufferGeometry, Float32BufferAttribute } from 'three';\n\nvar XYZLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(XYZLoader, _Loader);\n\n  var _super = _createSuper(XYZLoader);\n\n  function XYZLoader() {\n    _classCallCheck(this, XYZLoader);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(XYZLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setRequestHeader(this.requestHeader);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        try {\n          onLoad(scope.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(text) {\n      var lines = text.split('\\n');\n      var vertices = [];\n      var colors = [];\n\n      var _iterator = _createForOfIteratorHelper(lines),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var line = _step.value;\n          line = line.trim();\n          if (line.charAt(0) === '#') continue; // skip comments\n\n          var lineValues = line.split(/\\s+/);\n\n          if (lineValues.length === 3) {\n            // XYZ\n            vertices.push(parseFloat(lineValues[0]));\n            vertices.push(parseFloat(lineValues[1]));\n            vertices.push(parseFloat(lineValues[2]));\n          }\n\n          if (lineValues.length === 6) {\n            // XYZRGB\n            vertices.push(parseFloat(lineValues[0]));\n            vertices.push(parseFloat(lineValues[1]));\n            vertices.push(parseFloat(lineValues[2]));\n            colors.push(parseFloat(lineValues[3]) / 255);\n            colors.push(parseFloat(lineValues[4]) / 255);\n            colors.push(parseFloat(lineValues[5]) / 255);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var geometry = new BufferGeometry();\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n      if (colors.length > 0) {\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n      }\n\n      return geometry;\n    }\n  }]);\n\n  return XYZLoader;\n}(Loader);\n\nexport { XYZLoader };","map":{"version":3,"names":["Loader","FileLoader","BufferGeometry","Float32BufferAttribute","XYZLoader","url","onLoad","onProgress","onError","scope","loader","manager","setPath","path","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","text","parse","e","console","error","itemError","lines","split","vertices","colors","line","trim","charAt","lineValues","length","push","parseFloat","geometry","setAttribute"],"sources":["D:/Jord/l4fycy/node_modules/three-stdlib/loaders/XYZLoader.js"],"sourcesContent":["import { Loader, FileLoader, BufferGeometry, Float32BufferAttribute } from 'three';\n\nclass XYZLoader extends Loader {\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (text) {\n      try {\n        onLoad(scope.parse(text));\n      } catch (e) {\n        if (onError) {\n          onError(e);\n        } else {\n          console.error(e);\n        }\n\n        scope.manager.itemError(url);\n      }\n    }, onProgress, onError);\n  }\n\n  parse(text) {\n    const lines = text.split('\\n');\n    const vertices = [];\n    const colors = [];\n\n    for (let line of lines) {\n      line = line.trim();\n      if (line.charAt(0) === '#') continue; // skip comments\n\n      const lineValues = line.split(/\\s+/);\n\n      if (lineValues.length === 3) {\n        // XYZ\n        vertices.push(parseFloat(lineValues[0]));\n        vertices.push(parseFloat(lineValues[1]));\n        vertices.push(parseFloat(lineValues[2]));\n      }\n\n      if (lineValues.length === 6) {\n        // XYZRGB\n        vertices.push(parseFloat(lineValues[0]));\n        vertices.push(parseFloat(lineValues[1]));\n        vertices.push(parseFloat(lineValues[2]));\n        colors.push(parseFloat(lineValues[3]) / 255);\n        colors.push(parseFloat(lineValues[4]) / 255);\n        colors.push(parseFloat(lineValues[5]) / 255);\n      }\n    }\n\n    const geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n    if (colors.length > 0) {\n      geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n    }\n\n    return geometry;\n  }\n\n}\n\nexport { XYZLoader };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}