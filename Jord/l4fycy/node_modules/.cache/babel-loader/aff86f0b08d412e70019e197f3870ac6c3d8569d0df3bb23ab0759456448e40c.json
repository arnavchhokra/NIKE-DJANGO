{"ast":null,"code":"import React from'react';import'./SingleProductPage.css';import Nav from'../Navigation/Nav';import Products from'../Products/Products';import{useParams}from'react-router-dom';import{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function shared(){const params=useParams();let sharedid=params.id;return sharedid;}const SingleProductPage=()=>{const params=useParams();let ProductId=params.id;console.log(ProductId);console.log(params);let[Products,setProducts]=useState([ProductId]);useEffect(()=>{getProducts();},[]);let getProducts=async()=>{let response=await fetch(\"http://localhost:8000/Products/Products/\".concat(ProductId,\"/\"));let data=await response.json();console.log(data);setProducts(data);};let addCart=async()=>{console.log(\"Hi\");try{const authToken=localStorage.getItem('salesToken');alert(ProductId,\"is the productID\");let response=await fetch(\"http://localhost:8000/User/addcart/\".concat(ProductId),{method:'POST',headers:{Accept:'application/json','Authorization':\"Bearer \".concat(authToken),'Content-Type':'application/json'}});if(response.status==201){alert('Product added to Cart');}else{const error=new Error(response.statusText);throw error;}}catch(err){console.log('err');alert(err);console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"SingleProductPage-Home\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"SingleProductPage-Container\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"SingleProductPage-Mainimg\",src:Products.image})}),/*#__PURE__*/_jsxs(\"div\",{className:\"SingleProductPage-Content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"SingleProductPage-Title\",children:Products.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"SingleProductPage-Price\",children:[\"$\",Products.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"SingleProductPage-button\",onClick:addCart,children:\"ADD TO CART\"}),/*#__PURE__*/_jsx(\"span\",{className:\"SingleProductPage-desc\",children:Products.desc})]})]})]});};export default SingleProductPage;","map":{"version":3,"names":["React","Nav","Products","useParams","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","shared","params","sharedid","id","SingleProductPage","ProductId","console","log","setProducts","getProducts","response","fetch","concat","data","json","addCart","authToken","localStorage","getItem","alert","method","headers","Accept","status","error","Error","statusText","err","className","children","src","image","name","price","onClick","desc"],"sources":["D:/Repos/NIKE-DJANGO/Jord/l4fycy/src/SingleProductPage/SingleProductPage.js"],"sourcesContent":["import React from 'react'\r\nimport './SingleProductPage.css'\r\nimport Nav from '../Navigation/Nav'\r\nimport Products from '../Products/Products'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction shared() {\r\n  const params = useParams()\r\n  let sharedid = params.id\r\n  return sharedid\r\n}\r\n\r\nconst SingleProductPage = () => {\r\n  const params = useParams()\r\n  let ProductId = params.id\r\n  console.log(ProductId)\r\n  console.log(params)\r\n  let [Products, setProducts] = useState([ProductId])\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  let getProducts = async () => {\r\n    let response = await fetch(`http://localhost:8000/Products/Products/${ProductId}/`)\r\n    let data = await response.json()\r\n    console.log(data)\r\n    setProducts(data)\r\n  }\r\n\r\n\r\n  let addCart = async() => {\r\n    console.log(\"Hi\")\r\n    try{\r\n    const authToken = localStorage.getItem('salesToken');\r\n    alert(ProductId, \"is the productID\")\r\n    let response = await fetch(`http://localhost:8000/User/addcart/${ProductId}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Authorization': `Bearer ${authToken}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n    if (response.status == 201) {\r\n      alert('Product added to Cart')\r\n    } else {\r\n      const error = new Error(response.statusText)\r\n      throw error;\r\n    }\r\n  } catch (err) {\r\n    console.log('err')\r\n    alert(err)\r\n    console.error(err)\r\n  }\r\n}\r\n\r\n\r\n  return (\r\n    <div className=\"SingleProductPage-Home\">\r\n      <Nav />\r\n      <div className=\"SingleProductPage-Container\">\r\n        <div>\r\n          <img className=\"SingleProductPage-Mainimg\" src={Products.image} />\r\n        </div>\r\n        <div className=\"SingleProductPage-Content\">\r\n          <span className=\"SingleProductPage-Title\">{Products.name}</span>\r\n          <span className=\"SingleProductPage-Price\">${Products.price}</span>\r\n            <button className=\"SingleProductPage-button\" onClick={addCart}>ADD TO CART</button>\r\n          <span className=\"SingleProductPage-desc\">{Products.desc}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SingleProductPage\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,yBAAyB,CAChC,MAAO,CAAAC,GAAG,KAAM,mBAAmB,CACnC,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAAC,MAAM,CAAGT,SAAS,CAAC,CAAC,CAC1B,GAAI,CAAAU,QAAQ,CAAGD,MAAM,CAACE,EAAE,CACxB,MAAO,CAAAD,QAAQ,CACjB,CAEA,KAAM,CAAAE,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAH,MAAM,CAAGT,SAAS,CAAC,CAAC,CAC1B,GAAI,CAAAa,SAAS,CAAGJ,MAAM,CAACE,EAAE,CACzBG,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC,CACtBC,OAAO,CAACC,GAAG,CAACN,MAAM,CAAC,CACnB,GAAI,CAACV,QAAQ,CAAEiB,WAAW,CAAC,CAAGf,QAAQ,CAAC,CAACY,SAAS,CAAC,CAAC,CAEnDX,SAAS,CAAC,IAAM,CACde,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,4CAAAC,MAAA,CAA4CP,SAAS,KAAG,CAAC,CACnF,GAAI,CAAAQ,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAChCR,OAAO,CAACC,GAAG,CAACM,IAAI,CAAC,CACjBL,WAAW,CAACK,IAAI,CAAC,CACnB,CAAC,CAGD,GAAI,CAAAE,OAAO,CAAG,KAAAA,CAAA,GAAW,CACvBT,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC,CACjB,GAAG,CACH,KAAM,CAAAS,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CACpDC,KAAK,CAACd,SAAS,CAAE,kBAAkB,CAAC,CACpC,GAAI,CAAAK,QAAQ,CAAG,KAAM,CAAAC,KAAK,uCAAAC,MAAA,CAAuCP,SAAS,EAAI,CAC5Ee,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,eAAe,WAAAV,MAAA,CAAYI,SAAS,CAAE,CACtC,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACF,GAAIN,QAAQ,CAACa,MAAM,EAAI,GAAG,CAAE,CAC1BJ,KAAK,CAAC,uBAAuB,CAAC,CAChC,CAAC,IAAM,CACL,KAAM,CAAAK,KAAK,CAAG,GAAI,CAAAC,KAAK,CAACf,QAAQ,CAACgB,UAAU,CAAC,CAC5C,KAAM,CAAAF,KAAK,CACb,CACF,CAAE,MAAOG,GAAG,CAAE,CACZrB,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAClBY,KAAK,CAACQ,GAAG,CAAC,CACVrB,OAAO,CAACkB,KAAK,CAACG,GAAG,CAAC,CACpB,CACF,CAAC,CAGC,mBACE5B,KAAA,QAAK6B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrChC,IAAA,CAACP,GAAG,GAAE,CAAC,cACPS,KAAA,QAAK6B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1ChC,IAAA,QAAAgC,QAAA,cACEhC,IAAA,QAAK+B,SAAS,CAAC,2BAA2B,CAACE,GAAG,CAAEvC,QAAQ,CAACwC,KAAM,CAAE,CAAC,CAC/D,CAAC,cACNhC,KAAA,QAAK6B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxChC,IAAA,SAAM+B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAEtC,QAAQ,CAACyC,IAAI,CAAO,CAAC,cAChEjC,KAAA,SAAM6B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EAAC,GAAC,CAACtC,QAAQ,CAAC0C,KAAK,EAAO,CAAC,cAChEpC,IAAA,WAAQ+B,SAAS,CAAC,0BAA0B,CAACM,OAAO,CAAEnB,OAAQ,CAAAc,QAAA,CAAC,aAAW,CAAQ,CAAC,cACrFhC,IAAA,SAAM+B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEtC,QAAQ,CAAC4C,IAAI,CAAO,CAAC,EAC5D,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}