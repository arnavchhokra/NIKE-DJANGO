{"ast":null,"code":"export function arrayToBox(nodeIndex32, array, target) {\n  target.min.x = array[nodeIndex32];\n  target.min.y = array[nodeIndex32 + 1];\n  target.min.z = array[nodeIndex32 + 2];\n  target.max.x = array[nodeIndex32 + 3];\n  target.max.y = array[nodeIndex32 + 4];\n  target.max.z = array[nodeIndex32 + 5];\n  return target;\n}\nexport function getLongestEdgeIndex(bounds) {\n  var splitDimIdx = -1;\n  var splitDist = -Infinity;\n\n  for (var i = 0; i < 3; i++) {\n    var dist = bounds[i + 3] - bounds[i];\n\n    if (dist > splitDist) {\n      splitDist = dist;\n      splitDimIdx = i;\n    }\n  }\n\n  return splitDimIdx;\n} // copys bounds a into bounds b\n\nexport function copyBounds(source, target) {\n  target.set(source);\n} // sets bounds target to the union of bounds a and b\n\nexport function unionBounds(a, b, target) {\n  var aVal, bVal;\n\n  for (var d = 0; d < 3; d++) {\n    var d3 = d + 3; // set the minimum values\n\n    aVal = a[d];\n    bVal = b[d];\n    target[d] = aVal < bVal ? aVal : bVal; // set the max values\n\n    aVal = a[d3];\n    bVal = b[d3];\n    target[d3] = aVal > bVal ? aVal : bVal;\n  }\n} // expands the given bounds by the provided triangle bounds\n\nexport function expandByTriangleBounds(startIndex, triangleBounds, bounds) {\n  for (var d = 0; d < 3; d++) {\n    var tCenter = triangleBounds[startIndex + 2 * d];\n    var tHalf = triangleBounds[startIndex + 2 * d + 1];\n    var tMin = tCenter - tHalf;\n    var tMax = tCenter + tHalf;\n\n    if (tMin < bounds[d]) {\n      bounds[d] = tMin;\n    }\n\n    if (tMax > bounds[d + 3]) {\n      bounds[d + 3] = tMax;\n    }\n  }\n} // compute bounds surface area\n\nexport function computeSurfaceArea(bounds) {\n  var d0 = bounds[3] - bounds[0];\n  var d1 = bounds[4] - bounds[1];\n  var d2 = bounds[5] - bounds[2];\n  return 2 * (d0 * d1 + d1 * d2 + d2 * d0);\n}","map":{"version":3,"names":["arrayToBox","nodeIndex32","array","target","min","x","y","z","max","getLongestEdgeIndex","bounds","splitDimIdx","splitDist","Infinity","i","dist","copyBounds","source","set","unionBounds","a","b","aVal","bVal","d","d3","expandByTriangleBounds","startIndex","triangleBounds","tCenter","tHalf","tMin","tMax","computeSurfaceArea","d0","d1","d2"],"sources":["C:/Users/Arnav/Downloads/l4fycy/node_modules/three-mesh-bvh/src/utils/ArrayBoxUtilities.js"],"sourcesContent":["export function arrayToBox( nodeIndex32, array, target ) {\r\n\r\n\ttarget.min.x = array[ nodeIndex32 ];\r\n\ttarget.min.y = array[ nodeIndex32 + 1 ];\r\n\ttarget.min.z = array[ nodeIndex32 + 2 ];\r\n\r\n\ttarget.max.x = array[ nodeIndex32 + 3 ];\r\n\ttarget.max.y = array[ nodeIndex32 + 4 ];\r\n\ttarget.max.z = array[ nodeIndex32 + 5 ];\r\n\r\n\treturn target;\r\n\r\n}\r\n\r\nexport function getLongestEdgeIndex( bounds ) {\r\n\r\n\tlet splitDimIdx = - 1;\r\n\tlet splitDist = - Infinity;\r\n\r\n\tfor ( let i = 0; i < 3; i ++ ) {\r\n\r\n\t\tconst dist = bounds[ i + 3 ] - bounds[ i ];\r\n\t\tif ( dist > splitDist ) {\r\n\r\n\t\t\tsplitDist = dist;\r\n\t\t\tsplitDimIdx = i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn splitDimIdx;\r\n\r\n}\r\n\r\n// copys bounds a into bounds b\r\nexport function copyBounds( source, target ) {\r\n\r\n\ttarget.set( source );\r\n\r\n}\r\n\r\n// sets bounds target to the union of bounds a and b\r\nexport function unionBounds( a, b, target ) {\r\n\r\n\tlet aVal, bVal;\r\n\tfor ( let d = 0; d < 3; d ++ ) {\r\n\r\n\t\tconst d3 = d + 3;\r\n\r\n\t\t// set the minimum values\r\n\t\taVal = a[ d ];\r\n\t\tbVal = b[ d ];\r\n\t\ttarget[ d ] = aVal < bVal ? aVal : bVal;\r\n\r\n\t\t// set the max values\r\n\t\taVal = a[ d3 ];\r\n\t\tbVal = b[ d3 ];\r\n\t\ttarget[ d3 ] = aVal > bVal ? aVal : bVal;\r\n\r\n\t}\r\n\r\n}\r\n\r\n// expands the given bounds by the provided triangle bounds\r\nexport function expandByTriangleBounds( startIndex, triangleBounds, bounds ) {\r\n\r\n\tfor ( let d = 0; d < 3; d ++ ) {\r\n\r\n\t\tconst tCenter = triangleBounds[ startIndex + 2 * d ];\r\n\t\tconst tHalf = triangleBounds[ startIndex + 2 * d + 1 ];\r\n\r\n\t\tconst tMin = tCenter - tHalf;\r\n\t\tconst tMax = tCenter + tHalf;\r\n\r\n\t\tif ( tMin < bounds[ d ] ) {\r\n\r\n\t\t\tbounds[ d ] = tMin;\r\n\r\n\t\t}\r\n\r\n\t\tif ( tMax > bounds[ d + 3 ] ) {\r\n\r\n\t\t\tbounds[ d + 3 ] = tMax;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n// compute bounds surface area\r\nexport function computeSurfaceArea( bounds ) {\r\n\r\n\tconst d0 = bounds[ 3 ] - bounds[ 0 ];\r\n\tconst d1 = bounds[ 4 ] - bounds[ 1 ];\r\n\tconst d2 = bounds[ 5 ] - bounds[ 2 ];\r\n\r\n\treturn 2 * ( d0 * d1 + d1 * d2 + d2 * d0 );\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}