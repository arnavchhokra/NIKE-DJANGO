{"ast":null,"code":"import _slicedToArray from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"opacity\", \"radiusTop\", \"radiusBottom\", \"depthBuffer\", \"color\", \"distance\", \"angle\", \"attenuation\", \"anglePower\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector3, CylinderGeometry, Matrix4 } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\nvar vec = new Vector3();\nvar SpotLight = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _ref$opacity = _ref.opacity,\n      opacity = _ref$opacity === void 0 ? 1 : _ref$opacity,\n      radiusTop = _ref.radiusTop,\n      radiusBottom = _ref.radiusBottom,\n      depthBuffer = _ref.depthBuffer,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'white' : _ref$color,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === void 0 ? 5 : _ref$distance,\n      _ref$angle = _ref.angle,\n      angle = _ref$angle === void 0 ? 0.15 : _ref$angle,\n      _ref$attenuation = _ref.attenuation,\n      attenuation = _ref$attenuation === void 0 ? 5 : _ref$attenuation,\n      _ref$anglePower = _ref.anglePower,\n      anglePower = _ref$anglePower === void 0 ? 5 : _ref$anglePower,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var mesh = React.useRef(null);\n  var size = useThree(function (state) {\n    return state.size;\n  });\n  var camera = useThree(function (state) {\n    return state.camera;\n  });\n  var dpr = useThree(function (state) {\n    return state.viewport.dpr;\n  });\n\n  var _React$useState = React.useState(function () {\n    return new SpotLightMaterial();\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      material = _React$useState2[0];\n\n  radiusTop = radiusTop === undefined ? 0.1 : radiusTop;\n  radiusBottom = radiusBottom === undefined ? angle * 7 : radiusBottom;\n  useFrame(function () {\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\n    mesh.current.lookAt(mesh.current.parent.target.getWorldPosition(vec));\n  });\n  var geom = React.useMemo(function () {\n    var geometry = new CylinderGeometry(radiusTop, radiusBottom, distance, 128, 64, true);\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\n    return geometry;\n  }, [angle, distance, radiusTop, radiusBottom]);\n  return /*#__PURE__*/React.createElement(\"spotLight\", _extends({\n    ref: ref,\n    angle: angle,\n    color: color,\n    distance: distance\n  }, props), /*#__PURE__*/React.createElement(\"mesh\", {\n    ref: mesh,\n    geometry: geom,\n    raycast: function raycast() {\n      return null;\n    }\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\n    object: material,\n    attach: \"material\",\n    \"uniforms-opacity-value\": opacity,\n    \"uniforms-lightColor-value\": color,\n    \"uniforms-attenuation-value\": attenuation,\n    \"uniforms-anglePower-value\": anglePower,\n    \"uniforms-depth-value\": depthBuffer,\n    \"uniforms-cameraNear-value\": camera.near,\n    \"uniforms-cameraFar-value\": camera.far,\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\n  })));\n});\nexport { SpotLight };","map":{"version":3,"names":["_extends","React","Vector3","CylinderGeometry","Matrix4","useThree","useFrame","SpotLightMaterial","vec","SpotLight","forwardRef","ref","opacity","radiusTop","radiusBottom","depthBuffer","color","distance","angle","attenuation","anglePower","props","mesh","useRef","size","state","camera","dpr","viewport","useState","material","undefined","uniforms","spotPosition","value","copy","current","getWorldPosition","lookAt","parent","target","geom","useMemo","geometry","applyMatrix4","makeTranslation","makeRotationX","Math","PI","createElement","raycast","object","attach","near","far","width","height"],"sources":["D:/Github/NIKE-DJANGO/Jord/l4fycy/node_modules/@react-three/drei/core/SpotLight.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\r\nimport * as React from 'react';\r\nimport { Vector3, CylinderGeometry, Matrix4 } from 'three';\r\nimport { useThree, useFrame } from '@react-three/fiber';\r\nimport { SpotLightMaterial } from '../materials/SpotLightMaterial.js';\r\n\r\nconst vec = new Vector3();\r\nconst SpotLight = /*#__PURE__*/React.forwardRef(({\r\n  opacity = 1,\r\n  radiusTop,\r\n  radiusBottom,\r\n  depthBuffer,\r\n  color = 'white',\r\n  distance = 5,\r\n  angle = 0.15,\r\n  attenuation = 5,\r\n  anglePower = 5,\r\n  ...props\r\n}, ref) => {\r\n  const mesh = React.useRef(null);\r\n  const size = useThree(state => state.size);\r\n  const camera = useThree(state => state.camera);\r\n  const dpr = useThree(state => state.viewport.dpr);\r\n  const [material] = React.useState(() => new SpotLightMaterial());\r\n  radiusTop = radiusTop === undefined ? 0.1 : radiusTop;\r\n  radiusBottom = radiusBottom === undefined ? angle * 7 : radiusBottom;\r\n  useFrame(() => {\r\n    material.uniforms.spotPosition.value.copy(mesh.current.getWorldPosition(vec));\r\n    mesh.current.lookAt(mesh.current.parent.target.getWorldPosition(vec));\r\n  });\r\n  const geom = React.useMemo(() => {\r\n    const geometry = new CylinderGeometry(radiusTop, radiusBottom, distance, 128, 64, true);\r\n    geometry.applyMatrix4(new Matrix4().makeTranslation(0, -distance / 2, 0));\r\n    geometry.applyMatrix4(new Matrix4().makeRotationX(-Math.PI / 2));\r\n    return geometry;\r\n  }, [angle, distance, radiusTop, radiusBottom]);\r\n  return /*#__PURE__*/React.createElement(\"spotLight\", _extends({\r\n    ref: ref,\r\n    angle: angle,\r\n    color: color,\r\n    distance: distance\r\n  }, props), /*#__PURE__*/React.createElement(\"mesh\", {\r\n    ref: mesh,\r\n    geometry: geom,\r\n    raycast: () => null\r\n  }, /*#__PURE__*/React.createElement(\"primitive\", {\r\n    object: material,\r\n    attach: \"material\",\r\n    \"uniforms-opacity-value\": opacity,\r\n    \"uniforms-lightColor-value\": color,\r\n    \"uniforms-attenuation-value\": attenuation,\r\n    \"uniforms-anglePower-value\": anglePower,\r\n    \"uniforms-depth-value\": depthBuffer,\r\n    \"uniforms-cameraNear-value\": camera.near,\r\n    \"uniforms-cameraFar-value\": camera.far,\r\n    \"uniforms-resolution-value\": depthBuffer ? [size.width * dpr, size.height * dpr] : [0, 0]\r\n  })));\r\n});\r\n\r\nexport { SpotLight };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}