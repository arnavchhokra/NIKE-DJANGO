{"ast":null,"code":"import { Object3D, Vector3, Matrix4 } from 'three';\n\nvar CSS2DObject = function CSS2DObject(element) {\n  Object3D.call(this);\n  this.element = element || document.createElement('div');\n  this.element.style.position = 'absolute';\n  this.addEventListener('removed', function () {\n    this.traverse(function (object) {\n      if (object.element instanceof Element && object.element.parentNode !== null) {\n        object.element.parentNode.removeChild(object.element);\n      }\n    });\n  });\n};\n\nCSS2DObject.prototype = Object.assign(Object.create(Object3D.prototype), {\n  constructor: CSS2DObject,\n  copy: function copy(source, recursive) {\n    Object3D.prototype.copy.call(this, source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n}); //\n\nvar CSS2DRenderer = function CSS2DRenderer() {\n  var _this = this;\n\n  var _width, _height;\n\n  var _widthHalf, _heightHalf;\n\n  var vector = new Vector3();\n  var viewMatrix = new Matrix4();\n  var viewProjectionMatrix = new Matrix4();\n  var cache = {\n    objects: new WeakMap()\n  };\n  var domElement = document.createElement('div');\n  domElement.style.overflow = 'hidden';\n  this.domElement = domElement;\n\n  this.getSize = function () {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n\n  this.setSize = function (width, height) {\n    _width = width;\n    _height = height;\n    _widthHalf = _width / 2;\n    _heightHalf = _height / 2;\n    domElement.style.width = width + 'px';\n    domElement.style.height = height + 'px';\n  };\n\n  var renderObject = function renderObject(object, scene, camera) {\n    if (object instanceof CSS2DObject) {\n      object.onBeforeRender(_this, scene, camera);\n      vector.setFromMatrixPosition(object.matrixWorld);\n      vector.applyMatrix4(viewProjectionMatrix);\n      var element = object.element;\n      element.style.transform = 'translate(-50%,-50%) translate(' + (vector.x * _widthHalf + _widthHalf) + 'px,' + (-vector.y * _heightHalf + _heightHalf) + 'px)';\n      element.style.display = object.visible && vector.z >= -1 && vector.z <= 1 ? '' : 'none';\n      var objectData = {\n        distanceToCameraSquared: getDistanceToSquared(camera, object)\n      };\n      cache.objects.set(object, objectData);\n\n      if (element.parentNode !== domElement) {\n        domElement.appendChild(element);\n      }\n\n      object.onAfterRender(_this, scene, camera);\n    }\n\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], scene, camera);\n    }\n  };\n\n  var getDistanceToSquared = function () {\n    var a = new Vector3();\n    var b = new Vector3();\n    return function (object1, object2) {\n      a.setFromMatrixPosition(object1.matrixWorld);\n      b.setFromMatrixPosition(object2.matrixWorld);\n      return a.distanceToSquared(b);\n    };\n  }();\n\n  var filterAndFlatten = function filterAndFlatten(scene) {\n    var result = [];\n    scene.traverse(function (object) {\n      if (object instanceof CSS2DObject) result.push(object);\n    });\n    return result;\n  };\n\n  var zOrder = function zOrder(scene) {\n    var sorted = filterAndFlatten(scene).sort(function (a, b) {\n      var distanceA = cache.objects.get(a).distanceToCameraSquared;\n      var distanceB = cache.objects.get(b).distanceToCameraSquared;\n      return distanceA - distanceB;\n    });\n    var zMax = sorted.length;\n\n    for (var i = 0, l = sorted.length; i < l; i++) {\n      sorted[i].element.style.zIndex = zMax - i;\n    }\n  };\n\n  this.render = function (scene, camera) {\n    if (scene.autoUpdate === true) scene.updateMatrixWorld();\n    if (camera.parent === null) camera.updateMatrixWorld();\n    viewMatrix.copy(camera.matrixWorldInverse);\n    viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, viewMatrix);\n    renderObject(scene, scene, camera);\n    zOrder(scene);\n  };\n};\n\nexport { CSS2DObject, CSS2DRenderer };","map":{"version":3,"names":["Object3D","Vector3","Matrix4","CSS2DObject","element","call","document","createElement","style","position","addEventListener","traverse","object","Element","parentNode","removeChild","prototype","Object","assign","create","constructor","copy","source","recursive","cloneNode","CSS2DRenderer","_this","_width","_height","_widthHalf","_heightHalf","vector","viewMatrix","viewProjectionMatrix","cache","objects","WeakMap","domElement","overflow","getSize","width","height","setSize","renderObject","scene","camera","onBeforeRender","setFromMatrixPosition","matrixWorld","applyMatrix4","transform","x","y","display","visible","z","objectData","distanceToCameraSquared","getDistanceToSquared","set","appendChild","onAfterRender","i","l","children","length","a","b","object1","object2","distanceToSquared","filterAndFlatten","result","push","zOrder","sorted","sort","distanceA","get","distanceB","zMax","zIndex","render","autoUpdate","updateMatrixWorld","parent","matrixWorldInverse","multiplyMatrices","projectionMatrix"],"sources":["C:/Users/Arnav/Downloads/l4fycy/node_modules/three-stdlib/renderers/CSS2DRenderer.js"],"sourcesContent":["import { Object3D, Vector3, Matrix4 } from 'three';\n\nvar CSS2DObject = function (element) {\n  Object3D.call(this);\n  this.element = element || document.createElement('div');\n  this.element.style.position = 'absolute';\n  this.addEventListener('removed', function () {\n    this.traverse(function (object) {\n      if (object.element instanceof Element && object.element.parentNode !== null) {\n        object.element.parentNode.removeChild(object.element);\n      }\n    });\n  });\n};\n\nCSS2DObject.prototype = Object.assign(Object.create(Object3D.prototype), {\n  constructor: CSS2DObject,\n  copy: function (source, recursive) {\n    Object3D.prototype.copy.call(this, source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n}); //\n\nvar CSS2DRenderer = function () {\n  var _this = this;\n\n  var _width, _height;\n\n  var _widthHalf, _heightHalf;\n\n  var vector = new Vector3();\n  var viewMatrix = new Matrix4();\n  var viewProjectionMatrix = new Matrix4();\n  var cache = {\n    objects: new WeakMap()\n  };\n  var domElement = document.createElement('div');\n  domElement.style.overflow = 'hidden';\n  this.domElement = domElement;\n\n  this.getSize = function () {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n\n  this.setSize = function (width, height) {\n    _width = width;\n    _height = height;\n    _widthHalf = _width / 2;\n    _heightHalf = _height / 2;\n    domElement.style.width = width + 'px';\n    domElement.style.height = height + 'px';\n  };\n\n  var renderObject = function (object, scene, camera) {\n    if (object instanceof CSS2DObject) {\n      object.onBeforeRender(_this, scene, camera);\n      vector.setFromMatrixPosition(object.matrixWorld);\n      vector.applyMatrix4(viewProjectionMatrix);\n      var element = object.element;\n      element.style.transform = 'translate(-50%,-50%) translate(' + (vector.x * _widthHalf + _widthHalf) + 'px,' + (-vector.y * _heightHalf + _heightHalf) + 'px)';\n      element.style.display = object.visible && vector.z >= -1 && vector.z <= 1 ? '' : 'none';\n      var objectData = {\n        distanceToCameraSquared: getDistanceToSquared(camera, object)\n      };\n      cache.objects.set(object, objectData);\n\n      if (element.parentNode !== domElement) {\n        domElement.appendChild(element);\n      }\n\n      object.onAfterRender(_this, scene, camera);\n    }\n\n    for (let i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], scene, camera);\n    }\n  };\n\n  var getDistanceToSquared = function () {\n    var a = new Vector3();\n    var b = new Vector3();\n    return function (object1, object2) {\n      a.setFromMatrixPosition(object1.matrixWorld);\n      b.setFromMatrixPosition(object2.matrixWorld);\n      return a.distanceToSquared(b);\n    };\n  }();\n\n  var filterAndFlatten = function (scene) {\n    var result = [];\n    scene.traverse(function (object) {\n      if (object instanceof CSS2DObject) result.push(object);\n    });\n    return result;\n  };\n\n  var zOrder = function (scene) {\n    var sorted = filterAndFlatten(scene).sort(function (a, b) {\n      var distanceA = cache.objects.get(a).distanceToCameraSquared;\n      var distanceB = cache.objects.get(b).distanceToCameraSquared;\n      return distanceA - distanceB;\n    });\n    var zMax = sorted.length;\n\n    for (let i = 0, l = sorted.length; i < l; i++) {\n      sorted[i].element.style.zIndex = zMax - i;\n    }\n  };\n\n  this.render = function (scene, camera) {\n    if (scene.autoUpdate === true) scene.updateMatrixWorld();\n    if (camera.parent === null) camera.updateMatrixWorld();\n    viewMatrix.copy(camera.matrixWorldInverse);\n    viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, viewMatrix);\n    renderObject(scene, scene, camera);\n    zOrder(scene);\n  };\n};\n\nexport { CSS2DObject, CSS2DRenderer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}