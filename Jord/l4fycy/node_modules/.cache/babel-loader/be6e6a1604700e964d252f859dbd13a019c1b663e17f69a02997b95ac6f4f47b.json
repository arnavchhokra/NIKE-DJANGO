{"ast":null,"code":"import { parentAutofocusables } from './DOMutils';\nimport { contains } from './DOMutils';\nimport { asArray } from './array';\nvar getParents = function (node, parents) {\n  if (parents === void 0) {\n    parents = [];\n  }\n  parents.push(node);\n  if (node.parentNode) {\n    getParents(node.parentNode.host || node.parentNode, parents);\n  }\n  return parents;\n};\n/**\r\n * finds a parent for both nodeA and nodeB\r\n * @param nodeA\r\n * @param nodeB\r\n * @returns {boolean|*}\r\n */\nexport var getCommonParent = function (nodeA, nodeB) {\n  var parentsA = getParents(nodeA);\n  var parentsB = getParents(nodeB);\n  // tslint:disable-next-line:prefer-for-of\n  for (var i = 0; i < parentsA.length; i += 1) {\n    var currentParent = parentsA[i];\n    if (parentsB.indexOf(currentParent) >= 0) {\n      return currentParent;\n    }\n  }\n  return false;\n};\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n  var activeElements = asArray(baseActiveElement);\n  var leftEntries = asArray(leftEntry);\n  var activeElement = activeElements[0];\n  var topCommon = false;\n  leftEntries.filter(Boolean).forEach(function (entry) {\n    topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n    rightEntries.filter(Boolean).forEach(function (subEntry) {\n      var common = getCommonParent(activeElement, subEntry);\n      if (common) {\n        if (!topCommon || contains(common, topCommon)) {\n          topCommon = common;\n        } else {\n          topCommon = getCommonParent(common, topCommon);\n        }\n      }\n    });\n  });\n  // TODO: add assert here?\n  return topCommon;\n};\n/**\r\n * return list of nodes which are expected to be autofocused inside a given top nodes\r\n * @param entries\r\n * @param visibilityCache\r\n */\nexport var allParentAutofocusables = function (entries, visibilityCache) {\n  return entries.reduce(function (acc, node) {\n    return acc.concat(parentAutofocusables(node, visibilityCache));\n  }, []);\n};","map":{"version":3,"names":["parentAutofocusables","contains","asArray","getParents","node","parents","push","parentNode","host","getCommonParent","nodeA","nodeB","parentsA","parentsB","i","length","currentParent","indexOf","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","activeElement","topCommon","filter","Boolean","forEach","entry","subEntry","common","allParentAutofocusables","entries","visibilityCache","reduce","acc","concat"],"sources":["D:/Repos/NIKE-DJANGO/Jord/l4fycy/node_modules/focus-lock/dist/es2015/utils/parenting.js"],"sourcesContent":["import { parentAutofocusables } from './DOMutils';\r\nimport { contains } from './DOMutils';\r\nimport { asArray } from './array';\r\nvar getParents = function (node, parents) {\r\n    if (parents === void 0) { parents = []; }\r\n    parents.push(node);\r\n    if (node.parentNode) {\r\n        getParents(node.parentNode.host || node.parentNode, parents);\r\n    }\r\n    return parents;\r\n};\r\n/**\r\n * finds a parent for both nodeA and nodeB\r\n * @param nodeA\r\n * @param nodeB\r\n * @returns {boolean|*}\r\n */\r\nexport var getCommonParent = function (nodeA, nodeB) {\r\n    var parentsA = getParents(nodeA);\r\n    var parentsB = getParents(nodeB);\r\n    // tslint:disable-next-line:prefer-for-of\r\n    for (var i = 0; i < parentsA.length; i += 1) {\r\n        var currentParent = parentsA[i];\r\n        if (parentsB.indexOf(currentParent) >= 0) {\r\n            return currentParent;\r\n        }\r\n    }\r\n    return false;\r\n};\r\nexport var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\r\n    var activeElements = asArray(baseActiveElement);\r\n    var leftEntries = asArray(leftEntry);\r\n    var activeElement = activeElements[0];\r\n    var topCommon = false;\r\n    leftEntries.filter(Boolean).forEach(function (entry) {\r\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\r\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\r\n            var common = getCommonParent(activeElement, subEntry);\r\n            if (common) {\r\n                if (!topCommon || contains(common, topCommon)) {\r\n                    topCommon = common;\r\n                }\r\n                else {\r\n                    topCommon = getCommonParent(common, topCommon);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    // TODO: add assert here?\r\n    return topCommon;\r\n};\r\n/**\r\n * return list of nodes which are expected to be autofocused inside a given top nodes\r\n * @param entries\r\n * @param visibilityCache\r\n */\r\nexport var allParentAutofocusables = function (entries, visibilityCache) {\r\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\r\n};\r\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ,YAAY;AACjD,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,OAAO,QAAQ,SAAS;AACjC,IAAIC,UAAU,GAAG,SAAAA,CAAUC,IAAI,EAAEC,OAAO,EAAE;EACtC,IAAIA,OAAO,KAAK,KAAK,CAAC,EAAE;IAAEA,OAAO,GAAG,EAAE;EAAE;EACxCA,OAAO,CAACC,IAAI,CAACF,IAAI,CAAC;EAClB,IAAIA,IAAI,CAACG,UAAU,EAAE;IACjBJ,UAAU,CAACC,IAAI,CAACG,UAAU,CAACC,IAAI,IAAIJ,IAAI,CAACG,UAAU,EAAEF,OAAO,CAAC;EAChE;EACA,OAAOA,OAAO;AAClB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAII,eAAe,GAAG,SAAAA,CAAUC,KAAK,EAAEC,KAAK,EAAE;EACjD,IAAIC,QAAQ,GAAGT,UAAU,CAACO,KAAK,CAAC;EAChC,IAAIG,QAAQ,GAAGV,UAAU,CAACQ,KAAK,CAAC;EAChC;EACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;IACzC,IAAIE,aAAa,GAAGJ,QAAQ,CAACE,CAAC,CAAC;IAC/B,IAAID,QAAQ,CAACI,OAAO,CAACD,aAAa,CAAC,IAAI,CAAC,EAAE;MACtC,OAAOA,aAAa;IACxB;EACJ;EACA,OAAO,KAAK;AAChB,CAAC;AACD,OAAO,IAAIE,kBAAkB,GAAG,SAAAA,CAAUC,iBAAiB,EAAEC,SAAS,EAAEC,YAAY,EAAE;EAClF,IAAIC,cAAc,GAAGpB,OAAO,CAACiB,iBAAiB,CAAC;EAC/C,IAAII,WAAW,GAAGrB,OAAO,CAACkB,SAAS,CAAC;EACpC,IAAII,aAAa,GAAGF,cAAc,CAAC,CAAC,CAAC;EACrC,IAAIG,SAAS,GAAG,KAAK;EACrBF,WAAW,CAACG,MAAM,CAACC,OAAO,CAAC,CAACC,OAAO,CAAC,UAAUC,KAAK,EAAE;IACjDJ,SAAS,GAAGhB,eAAe,CAACgB,SAAS,IAAII,KAAK,EAAEA,KAAK,CAAC,IAAIJ,SAAS;IACnEJ,YAAY,CAACK,MAAM,CAACC,OAAO,CAAC,CAACC,OAAO,CAAC,UAAUE,QAAQ,EAAE;MACrD,IAAIC,MAAM,GAAGtB,eAAe,CAACe,aAAa,EAAEM,QAAQ,CAAC;MACrD,IAAIC,MAAM,EAAE;QACR,IAAI,CAACN,SAAS,IAAIxB,QAAQ,CAAC8B,MAAM,EAAEN,SAAS,CAAC,EAAE;UAC3CA,SAAS,GAAGM,MAAM;QACtB,CAAC,MACI;UACDN,SAAS,GAAGhB,eAAe,CAACsB,MAAM,EAAEN,SAAS,CAAC;QAClD;MACJ;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;EACF;EACA,OAAOA,SAAS;AACpB,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIO,uBAAuB,GAAG,SAAAA,CAAUC,OAAO,EAAEC,eAAe,EAAE;EACrE,OAAOD,OAAO,CAACE,MAAM,CAAC,UAAUC,GAAG,EAAEhC,IAAI,EAAE;IAAE,OAAOgC,GAAG,CAACC,MAAM,CAACrC,oBAAoB,CAACI,IAAI,EAAE8B,eAAe,CAAC,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;AACvH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}